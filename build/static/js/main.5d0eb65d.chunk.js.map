{"version":3,"sources":["initializeFa.js","component/NavBar.js","layout/MainLayout.js","component/VBox.js","component/HBox.js","component/LCRBox.js","component/UICard/index.js","component/Icon.js","refsystem/Ref.js","refsystem/RefContainer.js","refsystem/ReduxRef.js","refsystem/useSelectorRef.js","component/SelectCategoriesDialog.js","refsystem/StateRef.js","refsystem/useStateRef.js","component/InlineInput.js","screens/Main.js","reducer.js","router/Route.js","component/ui/formField.js","router/Link.js","screens/Login_page.js","component/ui/mics.js","index.js"],"names":["__webpack_require__","r","__webpack_exports__","_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_0__","_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_1__","library","add","faTshirt","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","_ref","children","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","auth","_React$useState3","_React$useState4","anchorEl","setAnchorEl","open","Boolean","handleClose","react_default","a","createElement","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Menu_default","Typography","variant","aria-controls","aria-haspopup","onClick","event","currentTarget","AccountCircle_default","Menu_Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","style","marginTop","MainLayout","props","VBox","assign","merge","width","Children","map","child","i","gapStyle","gap","length","marginBottom","cloneElement","objectSpread","HBox","totalratio","eachGrow","eachBasis","notfluid","push","ratio","console","log","display","flexDirection","alignItems","growStyle","flexBasis","marginLeft","LCRBox","left","center","right","UICard","backgroundColor","padding","Icon","icon","type","size","bgColor","Fragment","index_es","height","borderRadius","fontSize","Ref","input","parent","_this2","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","query","performNext","get","parent_ref","Array","isArray","target","cloneDeep","toPath","newvalue","set","getCurrent","stage","commit","pop","getfn","setfn","arrayfn","newarray","_len","arguments","x","_key","callreturn","apply","concat","Error","_len2","_key2","perform_array_helper","prototype","pos","splice","newval","_len3","_key3","slice","callback","key","join","is_staging","value","err","error","__chomtana_ref_not_has","ExtensibleFunction","f","_this","setPrototypeOf","constructor","Function","RefExtension","_Ref","inherits","RefContainer","_has","musthave","_i","_musthave","ReduxRefExtension","_RefExtension","rootRef","parentRef","targetExtension","toConsumableArray","getTarget","targetExtensionFromRoot","createClass","curr_root_var","message","path","undefined","ReduxRef","curr","useSelectorRef","selector_result","useSelector","state","_useState","_useState2","current_var","set_current_var","dispatch","useDispatch","commited_var","staging_var","setvalue","DialogTitle","withStyles","margin","closeButton","top","palette","grey","disableTypography","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CategoryItem","refs","category","category_val","confirm","window","ButtonBase","justifyContent","textAlign","borderBottom","paddingTop","choosing_category","Icon_Icon","icon_type","icon_background","text","e","stopPropagation","delete","SelectCategoriesDialog","categories","Dialog","fullWidth","SelectCategoriesDialog_DialogTitle","SelectCategoriesDialog_DialogContent","dividers","SelectCategoriesDialog_DialogActions","Button","prompt","StateRef","__chomtana_ref_states","_local_next_id","hook","useStateRef","& .MuiInputBase-input","Input","CategoryIcon","null_category","current","Editing","is_editing","alignSelf","InlineInput","note","onChange","whiteSpace","minWidth","record","reset","Done_default","component_SelectCategoriesDialog","NotEditing","showAction","setShowAction","Collapse","in","Delete_default","Edit_default","onDup","FileCopy_default","onTransfer","ArrowForward_default","RecordItem","force_editing","UICard_TodayRecord","records","allMap","childRefs","CallReceived_default","stagePush","isnew","Add_default","UICard_Summary_Income","UICard_Summary_Expense","sum","parseInt","UICard_Summary_Remaining","UICard_Summary","Main","initialState","_route","appReducer","action","data","preserve_isnew","newState","newVal","to","Route","show","exact","isEqual","propspath","statepath","split","calculateShow","component","FormField","formdata","change","showError","validation","valid","validationMessage","formTemplate","element","showlabel","config","label","options","item","renderTemplate","Link","dispath","Login_page","formError","formSuccess","email","name","placeholder","required","password","newFormdata","newElement","validData","test","trim","validate","setState","preventDefault","onSubmit","submitForm","formField","updateForm","Component","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","App","es","startApp","rootElement","document","getElementById","ReactDOM","render","require","cordova","addEventListener"],"mappings":"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","file":"static/js/main.5d0eb65d.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faTshirt)","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function NavBar({ children }) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  function handleMenu(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"Menu\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Plannee\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"Account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div style={{ marginTop: 5 }}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NavBar from \"../component/NavBar\";\r\n\r\nexport default function MainLayout(props) {\r\n  return (\r\n    <div>\r\n      <NavBar>{props.children}</NavBar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function VBox(props) {\r\n  return (\r\n    <div {...props} style={merge({ width: \"100%\" }, props.style)}>\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginTop = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginBottom = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        //console.log(gapStyle);\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"100%\",\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function HBox(props) {\r\n  //calculate ratio\r\n  var totalratio = 0;\r\n  var eachGrow = [];\r\n  var eachBasis = [];\r\n  React.Children.map(props.children, child => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (props.notfluid) {\r\n        eachGrow.push(0);\r\n      } else {\r\n        if (typeof child.props.ratio === \"number\") {\r\n          totalratio += child.props.ratio;\r\n          eachGrow.push(child.props.ratio);\r\n        } else if (typeof child.props.ratio === \"undefined\") {\r\n          totalratio += 1;\r\n          eachGrow.push(1);\r\n        } else if (typeof child.props.ratio === \"string\") {\r\n          eachGrow.push(0);\r\n        } else {\r\n          console.log(\"Invalid ratio: \", child.props.ratio);\r\n          eachGrow.push(0);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  React.Children.map(props.children, (child, i) => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (typeof child.props.ratio === \"string\") {\r\n        eachBasis.push(child.props.ratio);\r\n      } else {\r\n        eachBasis.push((eachGrow[i] / totalratio) * 100 + \"%\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      {...props}\r\n      style={merge(\r\n        {\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\"\r\n        },\r\n        props.style\r\n      )}\r\n    >\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var growStyle = {\r\n          flexGrow: eachGrow[i],\r\n          flexBasis: eachBasis[i]\r\n        };\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginLeft = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginRight = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"auto\",\r\n              ...growStyle,\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HBox from \"./HBox\";\r\n\r\nimport { merge } from 'lodash';\r\n\r\nexport default function LCRBox(props) {\r\n  return (\r\n    <HBox style={props.style}>\r\n      {props.left ? React.cloneElement(props.left, { ratio: 0 }) : <div ratio={0} />}\r\n      {props.center ? (\r\n        React.cloneElement(props.center, { ratio: 1 })\r\n      ) : (\r\n        <div ratio={1} />\r\n      )}\r\n      {props.right ? React.cloneElement(props.right, { ratio: 0 }) : <div ratio={0} />}\r\n    </HBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport VBox from \"../VBox\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function UICard(props) {\r\n  return (\r\n    <VBox style={merge({ backgroundColor: \"white\", padding: 10 }, props.style)}>\r\n      <h2>{props.title}</h2>\r\n      <hr />\r\n      {props.children}\r\n    </VBox>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from '@material-ui/core/icon'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function Icon({ icon, type, size, color, bgColor }) {\r\n  return (<>\r\n    {(!type || type == \"material\" ? <MaterialIcon style={{ color, width: size + 4, height: size + 4, fontSize: size, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}>{icon}</MaterialIcon>\r\n      : (type == \"fa\" ? <FontAwesomeIcon icon={icon} style={{ color, width: size + 4, height: size + 4, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}></FontAwesomeIcon> : <>/</>)\r\n    )}\r\n  </>)\r\n}","import { cloneDeep, toPath, merge } from \"lodash\";\r\n//Credit: https://stackoverflow.com/questions/36871299/how-to-extend-function-with-es6-classes\r\nclass ExtensibleFunction extends Function {\r\n    constructor(f) {\r\n        super();\r\n        return Object.setPrototypeOf(f, new.target.prototype);\r\n    }\r\n}\r\n/*export type PassedRef<Target = any, Value = any> = [Target, typeof Ref, Value];\r\n\r\nexport function isExtendsRef(x: any): Boolean {\r\n  return x === Ref || x.prototype instanceof Ref;\r\n}\r\n\r\n//we cannot check deeper information, it is language limitation\r\nexport function isPassedRef(x: any): x is PassedRef {\r\n  if (!Array.isArray(x)) return false;\r\n  if (x.length != 3) return false;\r\n  if (!isExtendsRef(x[1])) return false;\r\n  return true;\r\n}*/\r\nexport default class Ref extends ExtensibleFunction {\r\n    get value() {\r\n        return this.get();\r\n    }\r\n    set value(newvalue) {\r\n        this.set(newvalue);\r\n    }\r\n    get current() {\r\n        return this.getCurrent();\r\n    }\r\n    set current(newvalue) {\r\n        this.stage(newvalue);\r\n    }\r\n    constructor(input, parent) {\r\n        super((query) => {\r\n            if (typeof query !== \"undefined\") {\r\n                return this.performNext(query);\r\n            }\r\n            else {\r\n                return this.get();\r\n            }\r\n        });\r\n        if (!input)\r\n            input = [];\r\n        this.parent_ref = parent;\r\n        //default is target = input\r\n        //so that we can use constructor to make new ref\r\n        if (Array.isArray(input)) {\r\n            this.target = cloneDeep(input);\r\n        }\r\n        else {\r\n            this.target = toPath(input);\r\n        }\r\n    }\r\n    getTarget() {\r\n        return this.target;\r\n    }\r\n    set(newvalue) {\r\n        this.stage(newvalue);\r\n        this.commit();\r\n    }\r\n    parent() {\r\n        return this.parent_ref;\r\n    }\r\n    /**\r\n     * Reset current value to last commit\r\n     */\r\n    reset() {\r\n        this.stage(this.get());\r\n    }\r\n    makeNotExtension() {\r\n        return this;\r\n    }\r\n    //Helper functions\r\n    delete() {\r\n        const parent = this.parent();\r\n        const parent_val = cloneDeep(parent.get());\r\n        if (typeof parent_val === \"object\") {\r\n            parent.pop(this.target[this.target.length - 1]);\r\n        }\r\n    }\r\n    //Array Helper functions\r\n    perform_array_helper(getfn, setfn, arrayfn, ...x) {\r\n        if (Array.isArray(getfn.call(this))) {\r\n            var newarray = cloneDeep(getfn.call(this));\r\n            var callreturn = arrayfn.call(newarray, ...x);\r\n            setfn.call(this, newarray);\r\n            return callreturn;\r\n        }\r\n        throw new Error(\"Not an array\");\r\n    }\r\n    //Array Helper functions: set\r\n    push(...x) {\r\n        return this.perform_array_helper(this.get, this.set, Array.prototype.push, ...x);\r\n    }\r\n    pop(pos) {\r\n        if (typeof pos === \"undefined\") {\r\n            return this.perform_array_helper(this.get, this.set, Array.prototype.pop);\r\n        }\r\n        else {\r\n            if (Array.isArray(this.get())) {\r\n                //console.log(pos);\r\n                return this.perform_array_helper(this.get, this.set, Array.prototype.splice, pos, 1);\r\n            }\r\n            else {\r\n                var newval = cloneDeep(this.get());\r\n                delete newval[pos];\r\n                this.set(newval);\r\n            }\r\n        }\r\n    }\r\n    //Array Helper functions: stage\r\n    stagePush(...x) {\r\n        return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.push, ...x);\r\n    }\r\n    stagePop(x) {\r\n        if (typeof x === \"undefined\") {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.pop);\r\n        }\r\n        else {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.slice, x, 1);\r\n        }\r\n    }\r\n    //Array/ Object helper function: loop\r\n    map(callback) {\r\n        const a = cloneDeep(this.get());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    /**\r\n     * Map value that are available in staging but not in commited\r\n     * @param callback (value,key) callback function of map\r\n     */\r\n    stageMap(callback) {\r\n        const a = cloneDeep(this.getCurrent());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                if (this(key).is_staging()) {\r\n                    a[key] = callback(this(key), key);\r\n                }\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    allMap(callback) {\r\n        const a = cloneDeep(merge(this.get(), this.getCurrent()));\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    childRefs() {\r\n        try {\r\n            return this.map((value, key) => value);\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n            return { __chomtana_ref_not_has: true };\r\n        }\r\n    }\r\n    //General helper function\r\n    has() {\r\n        return typeof this.get() !== \"undefined\";\r\n    }\r\n    is_staging() {\r\n        return this.get() !== this.getCurrent();\r\n    }\r\n}\r\nexport class RefExtension extends Ref {\r\n}\r\n","import Ref from \"./Ref\";\r\nexport default class RefContainer {\r\n    /**\r\n     * Create new RefContainer, either empty container or extract PassedRef from some object in form {refname: PassedRef,...} (can contains anything more other than Ref, it will only extract parameter that are refs)\r\n     *\r\n     * Often use without *input* argument\r\n     *\r\n     * OR *input* argument = **params**\r\n     *\r\n     * @param input often; **params**; anything that contains {refname: PassedRef,...} (can contains anything more other than Ref, it will only extract parameter that are refs)\r\n     */\r\n    constructor(input) {\r\n        this._has = true;\r\n        if (input) {\r\n            try {\r\n                for (var key in input) {\r\n                    if (input[key] instanceof Ref) {\r\n                        this[key] = input[key];\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.error(\"Cannot build RefContainer: \", err);\r\n            }\r\n            if (input.__chomtana_ref_not_has) {\r\n                this._has = false;\r\n            }\r\n        }\r\n    }\r\n    has(...musthave) {\r\n        for (var key of musthave) {\r\n            if (typeof this[key] === \"undefined\") {\r\n                return false;\r\n            }\r\n        }\r\n        return this._has;\r\n    }\r\n}\r\n","import Ref, { RefExtension } from \"./Ref\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { get, set, cloneDeep } from \"lodash\";\r\nimport { useState } from \"react\";\r\nimport useSelectorRef from \"./useSelectorRef\";\r\nexport class ReduxRefExtension extends RefExtension {\r\n    constructor(rootRef, parentRef, targetExtension) {\r\n        super([...parentRef.getTarget(), targetExtension], parentRef);\r\n        this.targetExtension = targetExtension;\r\n        this.rootRef = rootRef;\r\n        this.parentRef = parentRef;\r\n        this.targetExtensionFromRoot = this.getTarget().slice(rootRef.getTarget().length);\r\n    }\r\n    performNext(query) {\r\n        return new ReduxRefExtension(this.rootRef, this, query);\r\n    }\r\n    get() {\r\n        return get(this.parentRef.get(), this.targetExtension);\r\n    }\r\n    getCurrent() {\r\n        return get(this.parentRef.getCurrent(), this.targetExtension);\r\n    }\r\n    stage(newvalue) {\r\n        var curr_root_var = cloneDeep(this.rootRef.getCurrent());\r\n        set(curr_root_var, this.targetExtensionFromRoot, newvalue);\r\n        this.rootRef.stage(curr_root_var);\r\n    }\r\n    commit(message, path = []) {\r\n        this.rootRef.commit(message, [...this.targetExtensionFromRoot, ...path]);\r\n    }\r\n    makeNotExtension() {\r\n        return new ReduxRef(this.getTarget());\r\n    }\r\n}\r\nexport default class ReduxRef extends Ref {\r\n    constructor(input, parentRef) {\r\n        super(input, parentRef);\r\n        if (!parentRef && this.getTarget().length > 1) {\r\n            var curr = useSelectorRef(this.getTarget()[0]);\r\n            for (var i = 1; i < this.getTarget().length; i++) {\r\n                curr = curr(this.getTarget()[i]);\r\n            }\r\n            return curr;\r\n        }\r\n        this.selector_result = useSelector(state => get(state, this.target));\r\n        [this.current_var, this.set_current_var] = useState(this.selector_result);\r\n        this.dispatch = useDispatch();\r\n    }\r\n    performNext(query) {\r\n        return new ReduxRefExtension(this, this, query);\r\n    }\r\n    get() {\r\n        if (typeof this.commited_var === \"undefined\") {\r\n            return this.selector_result;\r\n        }\r\n        else {\r\n            return this.commited_var;\r\n        }\r\n    }\r\n    getCurrent() {\r\n        if (typeof this.staging_var === \"undefined\") {\r\n            return this.current_var;\r\n        }\r\n        else {\r\n            return this.staging_var;\r\n        }\r\n    }\r\n    stage(newvalue) {\r\n        var setvalue = cloneDeep(newvalue);\r\n        this.set_current_var(setvalue);\r\n        this.staging_var = setvalue;\r\n    }\r\n    commit(message, path = []) {\r\n        /*console.log(\r\n          this.target + (path ? \".\" + path : \"\"),\r\n          path ? get(this.getCurrent(), path) : this.getCurrent()\r\n        );*/\r\n        this.dispatch({\r\n            type: \"$Chomtana.RefCommit\",\r\n            path: [...this.target, ...path],\r\n            value: path.length > 0 ? get(this.getCurrent(), path) : this.getCurrent(),\r\n            message: message\r\n        });\r\n        this.commited_var = this.getCurrent();\r\n    }\r\n}\r\n","import ReduxRef from \"./ReduxRef\";\r\nexport default function useSelectorRef(path) {\r\n    return new ReduxRef(path);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useSelector } from 'react-redux';\r\nimport VBox from './VBox';\r\nimport HBox from './HBox';\r\nimport LCRBox from './LCRBox';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport Icon from './Icon';\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useSelectorRef from '../refsystem/useSelectorRef';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  \r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"Close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction CategoryItem(props) {\r\n  const refs = new RefContainer(props);\r\n  const category = refs.category_val();\r\n\r\n  const [isEditing,setIsEditing] = useState(false);\r\n\r\n  const confirm = window.confirm;\r\n\r\n  return (\r\n    <ButtonBase style={{justifyContent:\"left\", textAlign:\"left\", borderBottom: \"solid 1px rgb(204, 204, 204)\", paddingTop: 5, width: \"100%\"}} onClick={()=>{refs.category.set(category); refs.choosing_category.set(null);}}>\r\n      <LCRBox\r\n        left={\r\n          <div style={{marginRight:5}}><Icon icon={category.icon} type={category.icon_type} color=\"white\" bgColor={category.icon_background} size={24} /></div>\r\n        }\r\n        center={\r\n          <div>{category.text}</div>\r\n        }\r\n        right={\r\n          <HBox notfluid>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"edit\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                if (confirm(\"คุณต้องการลบหมวดหมู่นี้จริงหรือไม่\")) {\r\n                  refs.category_val.delete();\r\n                }\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"delete\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n          </HBox>\r\n        }\r\n        \r\n      ></LCRBox>\r\n    </ButtonBase>\r\n  )\r\n\r\n}\r\n\r\nfunction SelectCategoriesDialog(props) {\r\n  const categories = useSelector(state => state.categories);\r\n  const refs = new RefContainer(props);\r\n  refs.categories = useSelectorRef(\"categories\");\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        onClose={props.onClose}\r\n        open={props.open}\r\n        fullWidth={true}\r\n      >\r\n        <DialogTitle onClose={props.onClose}>\r\n          เลือกหมวดหมู่\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <VBox>\r\n            {refs.categories.map(category=>\r\n              <CategoryItem {...refs} category_val={category}></CategoryItem>\r\n            )}\r\n          </VBox>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{\r\n              var text = prompt(\"กรุณาใส่ชื่อของหมวดหมู่\")\r\n              if (text) {\r\n                refs.categories.push({      \r\n                  icon: \"help_outline\",\r\n                  icon_type: \"material\",\r\n                  icon_background: \"#414042\",\r\n                  text: text\r\n                })\r\n              }\r\n            }} \r\n            color=\"primary\"\r\n          >\r\n            เพิ่มหมวดหมู่\r\n          </Button>\r\n          <Button onClick={()=>refs.choosing_category.set(null)} color=\"secondary\">\r\n            ยกเลิก\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectCategoriesDialog;\r\n","import ReduxRef from \"./ReduxRef\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useState } from \"react\";\r\nexport default class StateRef extends ReduxRef {\r\n    constructor(value) {\r\n        /*const __chomtana_ref_states = useSelector(\r\n          (state: any) => state.__chomtana_ref_states\r\n        );*/\r\n        const dispatch = useDispatch();\r\n        const idselector = useSelector((state) => state.__chomtana_ref_states._local_next_id);\r\n        var id = idselector;\r\n        const [hook, setHook] = useState(id);\r\n        if (hook === id) {\r\n            dispatch({ type: \"$Chomtana.NewStateRef\", value: value });\r\n        }\r\n        else {\r\n            id = hook;\r\n        }\r\n        super([\"__chomtana_ref_states\", \"local_\" + id]);\r\n    }\r\n}\r\n","import StateRef from \"./StateRef\";\r\nexport default function useStateRef(value) {\r\n    return new StateRef(value);\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Input } from \"@material-ui/core\";\r\nimport { merge } from \"lodash\";\r\n\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default withStyles({\r\n  root: {\r\n    \"& .MuiInputBase-input\": {\r\n      padding: \"2px 0 2px\"\r\n    }\r\n  }\r\n})(Input);\r\n","import React, { useState } from \"react\";\r\n\r\nimport VBox from \"../component/VBox\";\r\nimport HBox from \"../component/HBox\";\r\nimport LCRBox from \"../component/LCRBox\";\r\nimport UICard from \"../component/UICard\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { Button, ButtonBase, Collapse, Input } from \"@material-ui/core\";\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport ReceiveIcon from '@material-ui/icons/CallReceived'\r\nimport SelectCategoriesDialog from \"../component/SelectCategoriesDialog\";\r\n\r\nimport { cloneDeep, merge } from 'lodash';\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useSelectorRef from \"../refsystem/useSelectorRef\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport useStateRef from './../refsystem/useStateRef';\r\n\r\nimport OKIcon from \"@material-ui/icons/Done\";\r\nimport CancelIcon from \"@material-ui/icons/Close\";\r\nimport InlineInput from \"../component/InlineInput\";\r\nimport Icon from \"../component/Icon\";\r\n\r\nfunction CategoryIcon(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  const null_category = {\r\n    icon: \"help_outline\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#414042\",\r\n    text: \"อื่นๆ\"\r\n  }\r\n\r\n  const category = refs.category.current;\r\n\r\n  return (<>\r\n    {category ?\r\n      <Icon icon={category.icon} type={category.icon_type} color=\"white\" bgColor={category.icon_background} size={24} />\r\n      :\r\n      <Icon icon={null_category.icon} type={null_category.icon_type} color=\"white\" bgColor={null_category.icon_background} size={24} />\r\n    }\r\n  </>)\r\n}\r\n\r\nfunction Editing(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (<>\r\n    {refs.is_editing() &&\r\n      <VBox {...props}>\r\n        <LCRBox\r\n          left={\r\n            <div style={{ marginRight: 5, alignSelf: \"top\" }}>\r\n              <CategoryIcon {...refs}></CategoryIcon>\r\n            </div>\r\n          }\r\n\r\n          center={\r\n            <VBox>\r\n              <ButtonBase style={{ justifyContent: \"left\", color: \"royalblue\" }} onClick={() => refs.choosing_category.set(refs.category)}>{refs.category(\"text\").current || \"เลือกหมวดหมู่\"}</ButtonBase>\r\n              <InlineInput value={refs.note.current} onChange={(event) => refs.note.stage(event.target.value)}></InlineInput>\r\n            </VBox>\r\n          }\r\n\r\n          right={\r\n            <div style={{ alignSelf: \"flex-start\", whiteSpace: \"nowrap\", marginLeft: 5 }}>\r\n              <HBox>\r\n                <InlineInput value={refs.value.current} onChange={(event) => refs.value.stage(event.target.value)} style={{ minWidth: 60 }}></InlineInput>\r\n                <div>บาท</div>\r\n              </HBox>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <HBox style={{ marginBottom: 5 }}>\r\n          <center>\r\n            <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => {\r\n              if (refs.record(\"isnew\")()) refs.record.delete(); else refs.record.reset();\r\n              refs.is_editing.set(false);\r\n            }}>\r\n              <CancelIcon />\r\n              &nbsp;ยกเลิก\r\n          </Button>\r\n          </center>\r\n          <center>\r\n            <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => { refs.record(\"isnew\").set(false); refs.record.commit(); refs.is_editing.set(false); }}>\r\n              <OKIcon />\r\n              &nbsp;ตกลง\r\n          </Button>\r\n          </center>\r\n        </HBox>\r\n\r\n        <SelectCategoriesDialog\r\n          open={refs.choosing_category() !== null}\r\n          {...refs}\r\n        ></SelectCategoriesDialog>\r\n      </VBox>\r\n    }</>)\r\n}\r\n\r\nfunction NotEditing(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  const [showAction, setShowAction] = useState(false);\r\n\r\n  const category = refs.category();\r\n\r\n  return (<>\r\n    {!refs.is_editing() &&\r\n      <VBox {...props}>\r\n        <ButtonBase\r\n          style={{ textAlign: \"left\" }}\r\n          onClick={() => setShowAction(!showAction)}\r\n        >\r\n          <LCRBox\r\n            left={\r\n              <div style={{ marginRight: 5, alignSelf: \"top\" }}>\r\n                <CategoryIcon {...refs}></CategoryIcon>\r\n              </div>\r\n            }\r\n\r\n            center={\r\n              <VBox>\r\n                <div>{refs.category(\"text\")()}</div>\r\n                <div>{refs.note()}</div>\r\n              </VBox>\r\n            }\r\n\r\n            right={\r\n              <div style={{ alignSelf: \"flex-start\", whiteSpace: \"nowrap\", marginLeft: 5 }}>\r\n                {refs.value()} บาท\r\n            </div>\r\n            }\r\n          />\r\n        </ButtonBase>\r\n\r\n        <Collapse in={showAction}>\r\n          <HBox style={{ marginBottom: 5 }}>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => refs.record.delete()}>\r\n                <DeleteIcon />\r\n                &nbsp;ลบ\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => { refs.is_editing.set(true); setShowAction(false) }}>\r\n                <EditIcon />\r\n                &nbsp;แก้ไข\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"mediumorchid\" }} onClick={props.onDup}>\r\n                <FileCopyIcon />\r\n                &nbsp;ทำซ้ำ\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkorange\" }} onClick={props.onTransfer}>\r\n                <ArrowForwardIcon />\r\n                &nbsp;ย้าย\r\n          </Button>\r\n            </center>\r\n          </HBox>\r\n        </Collapse>\r\n      </VBox>\r\n    }</>)\r\n}\r\n\r\nfunction RecordItem(props) {\r\n  const refs = new RefContainer(props);\r\n  refs.is_editing = useStateRef(props.force_editing || false);\r\n\r\n  return (<>\r\n    <NotEditing {...refs} {...props}></NotEditing>\r\n    <Editing {...refs} {...props}></Editing>\r\n  </>)\r\n}\r\n\r\nfunction UICard_TodayRecord(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <UICard\r\n      title={\r\n        <>\r\n          วันนี้&nbsp;\r\n        <span style={{ fontSize: \"12pt\" }}>19 มิถุนายน 2562</span>\r\n        </>\r\n      }\r\n      {...props}\r\n    >\r\n      {refs.records().length > 0 ?\r\n        refs.records.allMap((record, i) => {\r\n          return <RecordItem\r\n            {...refs}\r\n            record={record}\r\n            {...record.childRefs()}\r\n            style={{ marginBottom: 5 }}\r\n            force_editing={record.is_staging()}\r\n            key={i}\r\n          />\r\n        })\r\n        : <center>--- ไม่มีรายการ ---</center>\r\n      }\r\n\r\n      <hr />\r\n\r\n      <HBox>\r\n        <center>\r\n          <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => {\r\n\r\n          }}>\r\n            <ReceiveIcon />\r\n            &nbsp;รับเงินเข้า\r\n        </Button>\r\n        </center>\r\n        <center>\r\n          <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => {\r\n            refs.records.stagePush({ category: null, note: \"\", value: null, isnew: true })\r\n          }}>\r\n            <AddIcon />\r\n            &nbsp;เพิ่มรายการ\r\n        </Button>\r\n        </center>\r\n      </HBox>\r\n    </UICard>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Income(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>รายรับ</div>\r\n      <div style={{ textAlign: \"right\", color: \"green\" }}>1000 บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Expense(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  var records = refs.records();\r\n  var sum = 0;\r\n  records.map(record => sum += parseInt(record.value));\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>รายจ่าย</div>\r\n      <div style={{ textAlign: \"right\", color: \"darkred\" }}>{sum} บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Remaining(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  var records = refs.records();\r\n  var sum = 0;\r\n  records.map(record => sum += parseInt(record.value));\r\n  sum = 1000 - sum;\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>คงเหลือ</div>\r\n      <div style={{ textAlign: \"right\", color: \"green\" }}>{sum} บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <UICard title=\"สรุปบัญชีรายรับรายจ่าย\" {...props}>\r\n      <VBox>\r\n        <UICard_Summary_Income {...refs}></UICard_Summary_Income>\r\n        <UICard_Summary_Expense {...refs}></UICard_Summary_Expense>\r\n        <UICard_Summary_Remaining {...refs}></UICard_Summary_Remaining>\r\n      </VBox>\r\n    </UICard>\r\n  )\r\n}\r\n\r\n\r\nexport default function Main() {\r\n  const dispatch = useDispatch();\r\n\r\n  const refs = new RefContainer();\r\n  refs.records = useSelectorRef(\"records\");\r\n  refs.choosing_category = useStateRef(null);\r\n\r\n  console.log(refs.choosing_category())\r\n\r\n  return (\r\n    <div>\r\n      <VBox gap={20}>\r\n        <UICard_Summary {...refs}></UICard_Summary>\r\n        <UICard_TodayRecord {...refs}></UICard_TodayRecord>\r\n      </VBox>\r\n    </div>\r\n  );\r\n}\r\n","import { set, cloneDeep } from 'lodash'\r\n\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport MusicVideoIcon from '@material-ui/icons/MusicVideo';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react';\r\n\r\n// The initial state of the App\r\nexport const initialState = {\r\n  categories: [\r\n    {\r\n      icon: \"fastfood\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#ffaa00\",\r\n      text: \"อาหาร และ เครื่องดื่ม\"\r\n    },\r\n    {\r\n      icon: \"flight\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#007AFF\",\r\n      text: \"การเดินทาง\"\r\n    },\r\n    {\r\n      icon: \"tshirt\",\r\n      icon_type: \"fa\",\r\n      icon_background: \"#ff00a5\",\r\n      text: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n    },\r\n    {\r\n      icon: \"shopping_basket\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#b600ff\",\r\n      text: \"ข้าวของเครื่องใช้ในชีวิตประจำวัน\"\r\n    },\r\n    {\r\n      icon: \"music_video\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#26a500\",\r\n      text: \"ความบันเทิง\"\r\n    },\r\n    {\r\n      icon: \"help_outline\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#414042\",\r\n      text: \"อื่นๆ\"\r\n    }\r\n  ],\r\n  records: [\r\n    {\r\n      category: {\r\n        icon: \"fastfood\",\r\n        icon_type: \"material\",\r\n        icon_background: \"#ffaa00\",\r\n        text: \"อาหาร และ เครื่องดื่ม\"\r\n      },\r\n      note: \"กินข้าว ICanteen\",\r\n      value: 40\r\n    }\r\n  ],\r\n\r\n  _route: {\r\n    path: [\"login\"]\r\n  },\r\n\r\n  __chomtana_ref_states: {\r\n    _local_next_id: 1\r\n  }\r\n};\r\n\r\nfunction appReducer(state = initialState, action) {\r\n  console.log(\"reducer\",state)\r\n  switch (action.type) {\r\n    case \"add_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.push({\r\n        category: \"\",\r\n        note: \"\",\r\n        value: null,\r\n        isnew: true\r\n      });\r\n\r\n      return {...state,records};\r\n    }\r\n    case \"change_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records[action.i] = action.data;\r\n      if (!action.preserve_isnew) {\r\n        records[action.i].isnew = false;\r\n      }\r\n\r\n      return {...state,records};\r\n    }\r\n    case \"delete_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.splice(action.i)\r\n\r\n      return {...state,records};\r\n    }\r\n    case \"$Chomtana.RefCommit\": {\r\n      let newState = cloneDeep(state);\r\n      let newVal = cloneDeep(action.value);\r\n      set(newState, action.path, newVal);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.NewStateRef\": {\r\n      let newState = cloneDeep(state);\r\n      newState.__chomtana_ref_states[\r\n        \"local_\" + newState.__chomtana_ref_states._local_next_id++\r\n      ] = action.value;\r\n      //console.log(\"dispatched\", newState);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.Router.Link\": {\r\n      let newState = cloneDeep(state);\r\n      newState._route.path = cloneDeep(action.to);\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { isEqual } from 'lodash';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n\r\nexport default function Route(props) {\r\n  const state = useSelector(state=>state._route);\r\n\r\n  function calculateShow() {\r\n    if (props.exact) {\r\n      return isEqual(state.path,props.path);\r\n    } else {\r\n      var propspath = props.path;\r\n      var statepath = state.path;\r\n      if (typeof propspath == \"string\") propspath = propspath.split(\"/\");\r\n      if (typeof statepath == \"string\") statepath = statepath.split(\"/\");\r\n      if (propspath.length < statepath.length) {\r\n        statepath.slice(0,propspath.length);\r\n        return isEqual(statepath,propspath);\r\n      } else return false;\r\n    }\r\n  }\r\n\r\n  const show = calculateShow()\r\n  console.log(show)\r\n\r\n  return show ? <props.component /> : <></>\r\n\r\n  \r\n}","import React from 'react';\n\nconst FormField = ({formdata,id,change}) => {\n\n    const showError = () => {\n        let errorMessage = <div className=\"error_label\">\n                {\n                    formdata.validation && !formdata.valid ?\n                        formdata.validationMessage\n                    :null\n                }\n        </div>\n        return errorMessage\n    }\n\n\n\n    const renderTemplate = () => {\n        let formTemplate = null;\n\n        switch(formdata.element){\n            case('input'):\n                formTemplate = (\n                    <div>\n                        { formdata.showlabel ?\n                            <div className=\"label_inputs\">\n                                {formdata.config.label}\n                            </div>\n                            :null\n                        }\n                        <input\n                            {...formdata.config}\n                            value={formdata.value}\n                            onChange={(event)=> change({event,id})}\n                        />\n                        { showError() }\n                    </div>\n                )\n            break;\n            case('select'):\n                formTemplate = (\n                    <div>\n                        { formdata.showlabel ?\n                            <div className=\"label_inputs\">\n                                {formdata.config.label}\n                            </div>\n                            :null\n                        }\n                        <select\n                            value={formdata.value}\n                            onChange={(event)=> change({event,id})}\n                        >\n                            <option value=\"\">Select one</option>\n                            {\n                                formdata.config.options.map((item)=>(\n                                   <option key={item.key} value={item.key}>\n                                        {item.value}\n                                   </option> \n                                ))\n                            }\n                        </select>\n                        { showError() }\n                    </div>\n                )\n            break;\n            default:\n                formTemplate = null;\n\n        }\n        return formTemplate;\n    }\n\n    return (\n        <div>\n            {renderTemplate()}\n        </div>\n    )\n}\n\nexport default FormField;","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function Link(props) {\r\n  const dispath = useDispatch();\r\n  return <span onClick={()=>{dispath({type: \"$Chomtana.Router.Link\", to: props.to})}}>{props.children}</span>\r\n}","import React, { Component } from 'react';\n//import { Container, Divider } from 'semantic-ui-react'\nimport FormField from '../component/ui/formField';\nimport { validate } from '../component/ui/mics';\nimport Link from './../router/Link';\nclass Login_page extends Component {\n\n    state = {\n        formError:false,\n        formSuccess:'',\n        formdata:{\n            email:{\n                element:'input',\n                value:'',\n                config:{\n                    name:'email_input',\n                    type: 'email',\n                    placeholder: 'Enter your email'\n                },\n                validation:{\n                    required: true,\n                    email: true\n                },\n                valid: false,\n                validationMessage:''\n            },\n            password:{\n                element:'input',\n                value:'',\n                config:{\n                    name:'password_input',\n                    type: 'password',\n                    placeholder: 'Enter your password'\n                },\n                validation:{\n                    required: true\n                },\n                valid: false,\n                validationMessage:''\n            }\n        }\n\n    }\n\n    updateForm(element){\n        const newFormdata = {...this.state.formdata}\n        const newElement = { ...newFormdata[element.id]}\n\n        newElement.value = element.event.target.value;\n\n        let validData = validate(newElement)\n        newElement.valid = validData[0];\n        newElement.validationMessage = validData[1]\n\n        newFormdata[element.id] = newElement;\n\n        this.setState({\n            formError: false,\n            formdata: newFormdata\n        })\n    }\n\n\n    submitForm(event){\n        event.preventDefault();\n        //do sth if email and pass is valid\n        // may be I will use firbase for db naja\n        \n        \n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"signin_wrapper\" style={{margin:'100px'}}>\n\n                    <form onSubmit={(event)=> this.submitForm(event)}>\n\n                        <h2>Please Login</h2>\n\n                        <FormField\n                            id={'email'}\n                            formdata={this.state.formdata.email}\n                            change={(element)=> this.updateForm(element)}\n                        />\n\n                        <FormField\n                            id={'password'}\n                            formdata={this.state.formdata.password}\n                            change={(element)=> this.updateForm(element)}\n                        />\n                            { this.state.formError ? \n                                <div className=\"error_label\">Something is wrong, try again.</div>\n                                :null\n                            }\n                        <Link to={[]}><button>Log in</button></Link>\n                    </form>\n\n                </div>     \n            </div>\n        );\n    }\n}\n\n\nexport default Login_page;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Tag = (props) => {\n    const template = <div\n        style={{\n            background: props.bck,\n            fontSize: props.size,\n            color: props.color,\n            padding: '5px 10px',\n            display: 'inline-block',\n            fontFamily: 'Righteous',\n            ...props.add\n        }}\n    >\n        {props.children}\n    </div>\n\n    if(props.link){\n        return (\n            <Link to={props.linkto}>\n                {template}\n            </Link>\n        )\n    } else {\n        return template\n    }\n}\n\nexport const firebaseLooper = (snapshot) => {\n    let data = [];\n    snapshot.forEach((childSnapshot)=>{\n        data.push({\n            ...childSnapshot.val(),\n            id: childSnapshot.key\n        })\n    });\n    return data\n}\n\nexport const reverseArray = (actualArray) => {\n    let reversedArray = [];\n\n    for(let i= actualArray.length-1;i>=0;i--){\n        reversedArray.push(actualArray[i])\n    }\n    return reversedArray;\n}\n\n\nexport const validate = (element) => {\n    let error = [true,''];\n\n    if(element.validation.email){\n        const valid = /\\S+@\\S+\\.\\S+/.test(element.value);\n        const message = `${!valid ? 'Must be a valid email':''}`;\n        error = !valid ? [valid,message]: error;\n    }\n\n    if(element.validation.required){\n        const valid = element.value.trim() !== '';\n        const message = `${!valid ? 'This field is required':''}`;\n        error = !valid ? [valid,message]: error;\n    }\n\n    return error;\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport MainLayout from \"./layout/MainLayout\";\r\n\r\nimport \"./index.css\";\r\nimport Main from \"./screens/Main\";\r\n\r\n//import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from 'react-redux'\r\nimport reducer from './reducer'\r\nimport Route from './router/Route';\r\nimport Login_page from './screens/Login_page';\r\n\r\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nrequire(\"./initializeFa\")\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"App\">\r\n        <MainLayout>\r\n          <Route exact path={[\"login\"]} component={Login_page} />\r\n          <Route exact path={[]} component={Main} />\r\n        </MainLayout>\r\n      </div>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nfunction startApp() {\r\n  const rootElement = document.getElementById(\"root\");\r\n  ReactDOM.render(<App />, rootElement);\r\n}\r\n\r\nif(window.cordova) {\r\n  document.addEventListener('deviceready', startApp, false);\r\n} else {\r\n  startApp();\r\n}\r\n"],"sourceRoot":""}