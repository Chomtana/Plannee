{"version":3,"sources":["initializeFa.js","router/Link.js","component/NavBar.js","component/HBox.js","pointer/ExtensibleFunction.js","pointer/pointer.js","pointer/pointerStore.js","pointer/globalPointer.js","pointer/createGlobalPointer.js","pointer/usePointer.js","pointer/useStatePointer.js","component/LCRBox.js","component/VBox.js","component/CategoryIcon.js","component/Icon.js","refsystem/Ref.js","reducer.js","pointer/pointerReducer.js","store.js","component/SelectCategoriesDialog.js","component/RecordUpdate.js","layout/BottomNav.js","layout/MainLayout.js","screens/Main/Summary/ProfilePicture.js","action/sumByCategory.js","screens/Main/Summary/SummaryText.js","screens/Main/Summary/index.js","screens/Main/Today/TodayTitle.js","component/Record.js","screens/Main/Today/SeeAllTransaction.js","component/SummaryChart.js","component/SummaryText.js","screens/Main/Today/TodayChart.js","screens/Main/Today/index.js","component/CustomLinearProgress.js","screens/Main/WeeklyBudget/Item.js","screens/Main/WeeklyBudget/index.js","screens/Main/index.js","component/InlineInput.js","component/Profile/NotEditing.js","component/Profile/Editing.js","component/BackButton.js","component/Profile/index.js","screens/Profile.js","router/Route.js","component/ui/formField.js","screens/Login_page.js","screens/Summary/index.js","screens/Goal/CurrentGoal/GoalDetailDeep.js","screens/Goal/CurrentGoal/GoalTime.js","screens/Goal/CurrentGoal/GoalMoney.js","screens/Goal/CurrentGoal/index.js","screens/Goal/PreviousGoal/index.js","screens/Goal/index.js","serviceWorker.js","index.js"],"names":["__webpack_require__","r","__webpack_exports__","_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_0__","_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_1__","library","add","faTshirt","Link","props","dispath","useDispatch","react_default","a","createElement","onClick","type","to","children","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","_ref","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","auth","_React$useState3","_React$useState4","anchorEl","setAnchorEl","open","Boolean","handleClose","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Menu_default","Typography","variant","aria-controls","aria-haspopup","event","currentTarget","AccountCircle_default","Menu_Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","style","marginTop","HBox","totalratio","eachGrow","eachBasis","Children","map","child","notfluid","push","ratio","console","log","i","assign","merge","width","display","flexDirection","alignItems","growStyle","flexBasis","gapStyle","gap","marginLeft","length","cloneElement","objectSpread","ExtensibleFunction","f","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setPrototypeOf","constructor","prototype","Function","next_local_id","update_ite","pvalueStore","window","store","BasePointer","_ExtensibleFunction","value","options","x","get","next","_hook","_mark","_child","_last_update","randid","thiss","assertThisInitialized","parent","_parent","_parentkey","parentkey","_root","_rootpath","concat","toConsumableArray","_pvaluepath","name","_rootname","dummy","set","Math","random","pureid","hook","baseOnly","Symbol","iterator","regenerator_default","mark","_callee","start","startVal","key","wrap","_context","prev","resolveHOP","t0","keys","t1","done","stop","inherits","createClass","fn","_backprop_perform","_isHOP","oldVal","performHook","performHookBackprop","p","path","res","pget","isHOP","toPath","_this2","curr","Array","isArray","count","limit","isReady","pnext","delete","getShallow","amount","max","get_last_update","childTemplate","promises","_len","arguments","args","_key","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Promise","resolve","apply","err","return","_this3","_len2","_key2","performHookForce","all","then","_len3","_key3","_this$_parent","performHookBackpropForce","_len4","_key4","_this$_parent2","lock","unique","indexOf","$isHooked","_this4","_waitForReadyPolling","clearInterval","setInterval","_this5","reject","waitForReadyPolling","shallow","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","newp","target","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_len5","val","_key5","cloneDeep","_i","_val","pop","splice","comp","fromIndex","find","DiffPointer","_BasePointer2","_this7","_basePointer","basePointer","_undefined","_isStaging","_prototype","create","tempate","_cacheVal","_backprop_delcache","__proto__","_backprop_defined","esm_get","backpropagate","_set","defineProperty","$","_primitive","$isPrimitive","valueOf","_i2","_keys","needdel","difference","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_get","_setIn_inner","reverse","_this8","baseValue","isStaging","keys_contain","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","clean","newPrimitive","newObject","curri","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_getIn_inner","index","Error","templatekeys","template","currvalue","filteredvalue","fittemplate","msg","counter","addedcounter","Pointer","_this9","_stageDiff","stageDiff","getStageDiff","setIn","commit","reset","getCurrent","globalPointer","defaultValue","pointerStore","createGlobalPointer","debounce","setTimeout","dispatch","usePointer","useSelector","state","locali","useStatePointer","_useState","_useState2","LCRBox","left","center","right","VBox","marginBottom","CategoryIcon","src","category","height","Icon","icon","size","bgColor","Fragment","index_es","backgroundColor","padding","borderRadius","fontSize","initialState","categories","icon_type","icon_background","text","records","note","user","saving","goal","achivement","age","gender","email","_route","appReducer","__chomtana_global_states","__chomtana_global_op","__chomtana_ref_states","_local_next_id","createStore","input","oldReducer","action","newState","oldrandomval","randomval","pointerReducer","isnew","data","preserve_isnew","newVal","__REDUX_DEVTOOLS_EXTENSION__","is_revenue","record_template","DialogTitle","withStyles","margin","closeButton","top","palette","grey","disableTypography","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CategoryItem","refs","category_val","confirm","ButtonBase","justifyContent","textAlign","borderBottom","paddingTop","is_choosing","e","stopPropagation","Icon_Icon","SelectCategoriesDialog","Dialog","fullWidth","SelectCategoriesDialog_DialogTitle","SelectCategoriesDialog_DialogContent","dividers","SelectCategoriesDialog_DialogActions","Button","prompt","Category","record","component_SelectCategoriesDialog","RecordType","FormControl","InputLabel","htmlFor","Select","Input","onChange","Value","TextField","autoFocus","label","parseFloat","inputProps","step","whiteSpace","alignSelf","Note","RecordUpdate","createMode","onCancel","onSubmit","Btn","link","active","img","Home","Goal","Add_Camera","Add_Microphone","plugins","speechRecognition","startListening","nlpres","split_and_find","category_name","typeOfText","price","date","Date","alert","JSON","stringify","language","isRecognitionAvailable","hasPermission","requestPermission","Add_Manual","isAdding","AddBar","Slide","direction","in","showAddMenu","mountOnEnter","unmountOnExit","bottom","Add","Graph","Settings","BottomNav","route","MainLayout","ProfilePicture","sumByCategory","sum","SummaryText","sum_by_category","total","paddingLeft","Summary","TodayTitle","NotEditing","paddingRight","EditingMenu","showEditModal","Delete_default","Edit_default","Record","editing","setEditing","Collapse","SeeAllTransaction","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","SummaryChart","min","innerWidth","sum_bycate","es6","labelLine","dataKey","entry","TodayChart","SummaryText_SummaryText","Today","hasEditMenu","lighten","bar","LinearProgress","Item","CustomLinearProgress","WeeklyBudget","Main","extra","& .MuiInputBase-input","percentSaving","show","border","onEditing","Editing","setName","_useState3","_useState4","setGoal","_useState5","_useState6","setAge","_useState7","_useState8","setGender","_useState9","_useState10","setEmail","checkNumber","s","test","InlineInput","native","transition","onCancle","BackButton","ProfileContent","NotEditing_NotEditing","Profile","Route","exact","isEqual","propspath","statepath","split","slice","calculateShow","component","FormField","formdata","change","showError","validation","valid","validationMessage","formTemplate","element","showlabel","config","item","renderTemplate","Component","ControlPanel","Pic","Detail","GoalDetailDeep","wrapper","buttonSuccess","green","&:hover","fabProgress","buttonProgress","textInProgress","Title","Progress","CircularProgress","thickness","zIndex","GoalTime","GoalMoney","GoalMoney_Title","GoalMoney_Progress","CurrentGoal","CurrentGoal_Title","PreviousGoal","PreviousGoal_Title","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","App","es","startApp","rootElement","document","getElementById","ReactDOM","render","require","cordova","addEventListener","URL","process","href","origin","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b35cd522.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faTshirt)","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function Link(props) {\r\n  const dispath = useDispatch();\r\n  return <span onClick={()=>{dispath({type: \"$Chomtana.Router.Link\", to: props.to})}}>{props.children}</span>\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Link from './../router/Link';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function NavBar({ children }) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  function handleMenu(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"Menu\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Plannee\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"Account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}><Link to={[\"profile\"]}>Profile</Link></MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div style={{ marginTop: 5 }}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function HBox(props) {\r\n  //calculate ratio\r\n  var totalratio = 0;\r\n  var eachGrow = [];\r\n  var eachBasis = [];\r\n  React.Children.map(props.children, child => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (props.notfluid) {\r\n        eachGrow.push(0);\r\n      } else {\r\n        if (typeof child.props.ratio === \"number\") {\r\n          totalratio += child.props.ratio;\r\n          eachGrow.push(child.props.ratio);\r\n        } else if (typeof child.props.ratio === \"undefined\") {\r\n          totalratio += 1;\r\n          eachGrow.push(1);\r\n        } else if (typeof child.props.ratio === \"string\") {\r\n          eachGrow.push(0);\r\n        } else {\r\n          console.log(\"Invalid ratio: \", child.props.ratio);\r\n          eachGrow.push(0);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  React.Children.map(props.children, (child, i) => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (typeof child.props.ratio === \"string\") {\r\n        eachBasis.push(child.props.ratio);\r\n      } else {\r\n        eachBasis.push((eachGrow[i] / totalratio) * 100 + \"%\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      {...props}\r\n      style={merge(\r\n        {\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\"\r\n        },\r\n        props.style\r\n      )}\r\n    >\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var growStyle = {\r\n          flexGrow: eachGrow[i],\r\n          flexBasis: eachBasis[i]\r\n        };\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginLeft = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginRight = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"auto\",\r\n              ...growStyle,\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","export default class ExtensibleFunction extends Function {\r\n  constructor(f) {\r\n    super();\r\n    return Object.setPrototypeOf(f, new.target.prototype);\r\n  }\r\n}\r\n","import { set, get, cloneDeep, toPath, difference, merge, find } from \"lodash\";\r\nimport ExtensibleFunction from \"./ExtensibleFunction\";\r\n\r\nvar next_local_id = 1;\r\nvar update_ite = 1;\r\n\r\nexport var pvalueStore = {};\r\n\r\nwindow.pvalueStore = pvalueStore;\r\n\r\nexport function resolvePointer(p) {\r\n  if (p instanceof BasePointer) {\r\n    return p();\r\n  }\r\n  return p;\r\n}\r\n\r\nexport class BasePointer extends ExtensibleFunction {\r\n  _root;\r\n  _rootpath;\r\n  _pvaluepath;\r\n\r\n  _hook = {};\r\n  _mark = {};\r\n\r\n  _child = {};\r\n\r\n  _last_update = -1;\r\n\r\n  randid = 0;\r\n\r\n  //_child_hook = {};\r\n\r\n  constructor(value, options) {\r\n    if (!options) options = {};\r\n    //console.log(\"options\", options);\r\n\r\n    super(x => {\r\n      if (typeof x === \"undefined\") return this.get();\r\n      return this.next(x);\r\n    });\r\n\r\n    var thiss = this;\r\n\r\n    if (typeof options.parent !== \"undefined\") {\r\n      this._parent = options.parent;\r\n      this._parentkey = options.parentkey;\r\n      this._root = this._parent._root;\r\n      this._rootpath = [...this._parent._rootpath, this._parentkey];\r\n      this._pvaluepath = [...this._parent._pvaluepath, this._parentkey];\r\n    } else {\r\n      this._root = this;\r\n      //console.log(\"root\", this._root);\r\n      if (typeof options.name === \"undefined\") {\r\n        options.name = \"$Chomtana$local_\" + next_local_id++;\r\n        this._rootname = options.name;\r\n      }\r\n      this._rootpath = [];\r\n      this._pvaluepath = [this._rootname];\r\n    }\r\n\r\n    if (!options.dummy) this.set(value);\r\n\r\n    this.randid = Math.random();\r\n    this.pureid = Math.random();\r\n\r\n    this.hook(\"afterSetBP\", () => {\r\n      this.randid = Math.random();\r\n      //console.log(this._pvaluepath);\r\n    }, {baseOnly: true});\r\n\r\n    this[Symbol.iterator] = function*() {\r\n      var start = this.resolveHOP(thiss);\r\n      var startVal = start.get();\r\n      for (var key in startVal) {\r\n        yield start.next(key);\r\n      }\r\n    };\r\n\r\n    /*this.hook(\"afterSetBP\", () => {\r\n      this._backprop_perform(p => {\r\n        if (p.stage) {\r\n          var stage = p.stage();\r\n          if (stage) stage._isStaging = false;\r\n        }\r\n      });\r\n    }, {baseOnly: true});*/\r\n\r\n    //console.log(\"rootbafter\", this._root);\r\n  }\r\n\r\n  _backprop_perform(fn) {\r\n    fn(this);\r\n    if (typeof this._parent !== \"undefined\") {\r\n      this._parent._backprop_perform(fn);\r\n    }\r\n  }\r\n\r\n  get isHOP() {\r\n    if (get(pvalueStore, this._pvaluepath) instanceof BasePointer)\r\n      this._isHOP = true;\r\n    else this._isHOP = false;\r\n    return this._isHOP;\r\n  }\r\n\r\n  set(value, options) {\r\n    //console.log(\"setwork\", value);\r\n    //console.log(new Error().stack);\r\n    //console.log(\"set\", value);\r\n\r\n    //console.log(value);\r\n\r\n    if (value instanceof BasePointer) {\r\n      this._isHOP = true;\r\n    } else {\r\n      this._isHOP = false;\r\n    }\r\n\r\n    var oldVal = this.get();\r\n    this.performHook(\"beforeSet\", value, oldVal, this, options);\r\n    this.performHookBackprop(\"beforeSetBP\", value, oldVal, this, options);\r\n    set(pvalueStore, this._pvaluepath, value);\r\n    this._backprop_perform(p => (p._last_update = update_ite++));\r\n    this.performHook(\"afterSet\", value, oldVal, this, options);\r\n    this.performHookBackprop(\"afterSetBP\", value, oldVal, this, options);\r\n  }\r\n\r\n  setIn(path, value, options) {\r\n    this.next(path).set(value, options);\r\n  }\r\n\r\n  pget(options) {\r\n    this.performHook(\"beforePGet\", this);\r\n    this.performHookBackprop(\"beforePGetBP\", this);\r\n    var res = get(pvalueStore, this._pvaluepath);\r\n    this.performHook(\"afterPGet\", res, this);\r\n    this.performHookBackprop(\"afterPGetBP\", res, this);\r\n    return res;\r\n  }\r\n\r\n  get(options) {\r\n    this.performHook(\"beforeGet\", this);\r\n    this.performHookBackprop(\"beforeGetBP\", this);\r\n    var res = this.pget(options);\r\n    if (res instanceof BasePointer) {\r\n      this._isHOP = true;\r\n    }\r\n    //console.log(get(pvalueStore, this._pvaluepath));\r\n    res = this.isHOP ? res() : res;\r\n    this.performHook(\"afterGet\", res, this);\r\n    this.performHookBackprop(\"afterGetBP\", res, this);\r\n    return res;\r\n  }\r\n\r\n  getIn(path, options) {\r\n    return get(this.get(options), toPath(path));\r\n  }\r\n\r\n  getShallow(options) {\r\n    if (!options) options = {};\r\n\r\n    if (!options.start) options.start = 0;\r\n\r\n    var curr = this.get();\r\n    if (typeof curr !== \"object\") return curr;\r\n\r\n    var res = Array.isArray(curr) ? [] : {};\r\n    var count = 0;\r\n\r\n    if (Array.isArray(curr)) {\r\n      for (var key in curr) {\r\n        if (\r\n          typeof options.limit !== \"undefined\" &&\r\n          count - options.start >= options.limit\r\n        )\r\n          return res;\r\n        if (count >= options.start && this.next(key).isReady) res.push(this.next(key));\r\n        else {\r\n          //hotfix\r\n          if (this.pnext(key).isHOP && !this.next(key).isReady) {\r\n            this.pnext(key).delete();\r\n          }\r\n        }\r\n        count++;\r\n      }\r\n    } else {\r\n      return Object.keys(curr).map(key => this.next(key));\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  last() {\r\n    return this.next(this.get().length - 1);\r\n  }\r\n\r\n  map(fn) {\r\n    //console.log(\"shallow\", this.getShallow()[1]());\r\n    return this.getShallow().map(fn);\r\n  }\r\n\r\n  limit(amount, start) {\r\n    return this.getShallow({ limit: amount, start: start });\r\n  }\r\n\r\n  get key() {\r\n    return this._parentkey;\r\n  }\r\n\r\n  get_last_update() {\r\n    if (!this._parent) {\r\n      return this._last_update;\r\n    } else {\r\n      return Math.max(this._parent.get_last_update(), this._last_update);\r\n    }\r\n  }\r\n\r\n  mark(key, value) {\r\n    //console.log(key, value);\r\n    //get Mark\r\n    if (typeof value === \"undefined\") return this._mark[key];\r\n\r\n    //set Mark\r\n    var oldVal = this._mark[key];\r\n    //console.log(this._hook);\r\n    this.performHook(\"beforeMark\", key, value, oldVal, this);\r\n    this.performHookBackprop(\"beforeMarkBP\", key, value, oldVal, this);\r\n    this._mark[key] = value;\r\n    this.performHook(\"afterMark\", key, value, oldVal, this);\r\n    this.performHookBackprop(\"afterMarkBP\", key, value, oldVal, this);\r\n    return value;\r\n  }\r\n\r\n  childTemplate(value) {\r\n    return this.mark(\"$Chomtana$childTemplate\", value);\r\n  }\r\n\r\n  template(value) {\r\n    if (this._parent) {\r\n      return this._parent.childTemplate(value);\r\n    } else {\r\n      return this.mark(\"$Chomtana$template\", value);\r\n    }\r\n  }\r\n\r\n  performHookForce(name, ...args) {\r\n    var promises = [];\r\n    if (typeof this._hook[name] !== \"undefined\") {\r\n      for (var f of this._hook[name]) {\r\n        promises.push(Promise.resolve(f(...args)));\r\n      }\r\n    }\r\n    return promises;\r\n  }\r\n\r\n  performHook(name, ...args) {\r\n    //perform ready hook\r\n    if (typeof this._hook[name] !== \"undefined\") {\r\n      if (\r\n        !this.mark(\"$Chomtana$lockHook$\" + name) &&\r\n        !this.mark(\"$Chomtana$lockHook_inner\")\r\n      ) {\r\n        //console.log(name);\r\n        //console.log(\"hook\", this.mark(\"$Chomtana$lockHook\"));\r\n        this._mark[\"$Chomtana$lockHook$\" + name] = true;\r\n        var promises = this.performHookForce(name, ...args);\r\n        //console.log(promises);\r\n        Promise.all(promises).then(() => {\r\n          this._mark[\"$Chomtana$lockHook$\" + name] = false;\r\n          //console.log(\"release hoook\");\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  performHookBackpropForce(name, ...args) {\r\n    this.performHookForce(name, ...args);\r\n    //console.log(name,this._rootpath, this._parent)\r\n    if (this._parent) {\r\n      this._parent.performHookBackpropForce(name, ...args);\r\n    }\r\n  }\r\n\r\n  performHookBackprop(name, ...args) {\r\n    this.performHook(name, ...args);\r\n    //console.log(name,this._rootpath, this._parent)\r\n    if (this._parent) {\r\n      this._parent.performHookBackprop(name, ...args);\r\n    }\r\n  }\r\n\r\n  lockHook(lock) {\r\n    if (typeof lock === \"undefined\") lock = true;\r\n    this.mark(\"$Chomtana$lockHook\", lock);\r\n  }\r\n\r\n  hook(name, fn, options) {\r\n    if (!options) options = {};\r\n    if (!this._hook[name]) this._hook[name] = [];\r\n\r\n    if (options.unique) {\r\n      if (this._hook[name].indexOf(fn) !== -1) {\r\n        console.log(\"unique filtered\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    fn.$isHooked = true;\r\n    this._hook[name].push(fn);\r\n  }\r\n\r\n  waitForReadyPolling() {\r\n    if (typeof this._waitForReadyPolling === \"undefined\") {\r\n      var fn = ()=>{\r\n        if (this.isReady) {\r\n          //console.log(\"wait for ready\")\r\n          this.performHookForce(\"ready\", this);\r\n          clearInterval(this._waitForReadyPolling);\r\n          this._waitForReadyPolling = undefined;\r\n        }\r\n      }\r\n      this._waitForReadyPolling = setInterval(fn, 250);\r\n      fn();\r\n    }\r\n  }\r\n\r\n  waitForReady() {\r\n    var res = new Promise((resolve, reject) => {\r\n      this.hook(\"ready\", resolve)\r\n    });\r\n    this.waitForReadyPolling();\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * for array only!\r\n   *\r\n   * used for automatically perform something to each child\r\n   * even after push it will automatically work\r\n   *\r\n   * @param {Function} fn function to perform\r\n   */\r\n  childPerform(fn) {\r\n    var shallow = this.getShallow();\r\n    for (var child of shallow) {\r\n      fn(child);\r\n    }\r\n\r\n    this.hook(\"afterPush\", (x, curr, thiss, newp) => {\r\n      fn(newp);\r\n    });\r\n  }\r\n\r\n  resolveHOP(child) {\r\n    while (child.isHOP) {\r\n      child = child.pget();\r\n    }\r\n    return child;\r\n  }\r\n\r\n  pnext(target) {\r\n    target = toPath(target);\r\n    if (target.length === 1) {\r\n      if (this._child[target[0]]) return this._child[target[0]];\r\n      this._child[target[0]] = new this.constructor(undefined, {\r\n        parent: this,\r\n        parentkey: target[0],\r\n        dummy: true\r\n      });\r\n      /*if (!this._child[target[0]]._root)\r\n        this._child[target[0]]._root = this._root;*/\r\n      return this._child[target[0]];\r\n    } else {\r\n      var curr = this;\r\n      for (var x of target) curr = curr.next(x);\r\n      //if (!curr._root) curr._root = this._root;\r\n      return curr;\r\n    }\r\n  }\r\n\r\n  next(target) {\r\n    //console.log(this._pvaluepath)\r\n\r\n    var start = this.resolveHOP(this);\r\n\r\n    target = toPath(target);\r\n    if (target.length === 1) {\r\n      if (start._child[target[0]])\r\n        return this.resolveHOP(start._child[target[0]]);\r\n      start._child[target[0]] = new this.constructor(undefined, {\r\n        parent: start,\r\n        parentkey: target[0],\r\n        dummy: true\r\n      });\r\n      /*if (!this._child[target[0]]._root)\r\n        this._child[target[0]]._root = this._root;*/\r\n      return this.resolveHOP(start._child[target[0]]);\r\n    } else {\r\n      var curr = start;\r\n      for (var x of target) curr = this.resolveHOP(curr.next(x));\r\n      //if (!curr._root) curr._root = this._root;\r\n      return curr;\r\n    }\r\n  }\r\n\r\n  get parent() {\r\n    return this._parent;\r\n  }\r\n\r\n  push(...val) {\r\n    //if (Array.isArray(this.get())) {\r\n    //this.get().push(...val);\r\n    //}\r\n    if (val.length == 0) {\r\n      var template = cloneDeep(this.childTemplate())\r\n      val = [template];\r\n    }\r\n\r\n    var curr = this.get();\r\n    for (var x of val) {\r\n      this.performHook(\"beforePush\", x, curr, this);\r\n      this.performHookBackprop(\r\n        \"beforeSetBP\",\r\n        x,\r\n        undefined,\r\n        this.next(curr.length),\r\n        {\r\n          type: \"push\"\r\n        }\r\n      );\r\n      curr.push(x);\r\n      this.performHook(\"afterPush\", x, curr, this, this.next(curr.length - 1));\r\n      this.performHookBackprop(\r\n        \"afterSetBP\",\r\n        x,\r\n        undefined,\r\n        this.next(curr.length - 1),\r\n        {\r\n          type: \"push\"\r\n        }\r\n      );\r\n    }\r\n    //console.log(curr);\r\n  }\r\n\r\n  delete() {\r\n    if (this._parent) {\r\n      this._parent.pop(this._parentkey);\r\n    } else {\r\n      this.set(undefined);\r\n    }\r\n  }\r\n\r\n  pop(key) {\r\n    var curr = this.get();\r\n    this.performHookBackprop(\r\n      \"beforeSetBP\",\r\n      undefined,\r\n      this.next(key).get(),\r\n      this.next(key),\r\n      {\r\n        type: \"pop\"\r\n      }\r\n    );\r\n    if (typeof key === \"undefined\") {\r\n      curr.pop();\r\n    } else {\r\n      if (Array.isArray(curr)) {\r\n        curr.splice(key, 1);\r\n      } else {\r\n        delete curr[key];\r\n      }\r\n    }\r\n    this.performHookBackprop(\r\n      \"afterSetBP\",\r\n      undefined,\r\n      this.next(key).get(),\r\n      this.next(key),\r\n      {\r\n        type: \"pop\"\r\n      }\r\n    );\r\n  }\r\n\r\n  find(comp, fromIndex) {\r\n    var curr = this.get();\r\n    for (var key in curr) {\r\n      var p = this.next(key);\r\n      var val = find([p()], comp);\r\n      //console.log(val);\r\n      if (typeof val !== \"undefined\") return p;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  filter(comp, fromIndex) {\r\n    var curr = this.get();\r\n    var res = []\r\n    for (var key in curr) {\r\n      var p = this.next(key);\r\n      var val = find([p()], comp);\r\n      //console.log(val);\r\n      if (typeof val !== \"undefined\") {\r\n        res.push(p)\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n\r\n  get value() {\r\n    return this.get();\r\n  }\r\n\r\n  get isReady() {\r\n    return typeof this.get() !== \"undefined\";\r\n  }\r\n\r\n  get whyNotReady() {\r\n    return typeof this.get() !== \"undefined\" ? \"undefined\" : \"\";\r\n  }\r\n}\r\n\r\nexport class DummyPointer extends BasePointer {\r\n  constructor(value, options) {\r\n    if (!options) options = {};\r\n    super(value, { ...options, dummy: true });\r\n  }\r\n}\r\n\r\nexport class ComputedPointer extends DummyPointer {\r\n  constructor(fn, setfn) {\r\n    super();\r\n    this._fn = fn;\r\n    this._setfn = setfn;\r\n  }\r\n\r\n  get(options) {\r\n    return this._fn(options);\r\n  }\r\n\r\n  set(value, options) {\r\n    this._setfn(value, options);\r\n  }\r\n}\r\n\r\nexport class DiffPointer extends BasePointer {\r\n  _child = {};\r\n\r\n  _basePointer = null;\r\n\r\n  constructor(value, options) {\r\n    if (!options) options = {};\r\n    options.dummy = true;\r\n\r\n    super(undefined, options);\r\n\r\n    if (typeof options._parent === \"undefined\") {\r\n      this._basePointer = options.basePointer;\r\n    } else {\r\n      this._basePointer = this._parent._basePointer.next(this._parentkey);\r\n    }\r\n\r\n    /*super(x => {\r\n      //console.log(\"called\", x);\r\n      if (typeof x === \"undefined\") return this.get();\r\n      return this.next(x);\r\n    });*/\r\n    var thiss = this;\r\n\r\n    if (typeof value !== \"undefined\") {\r\n      this.set(value);\r\n      //console.log(\"init\", value, this.get());\r\n    } else {\r\n      this._undefined = true;\r\n    }\r\n\r\n    this._isStaging = false;\r\n\r\n    this.basePointer.hook(\"afterSet\", () => {\r\n      this._isStaging = false;\r\n    }, {baseOnly: true});\r\n\r\n    ////console.log(\"thiss\",thiss.stage);\r\n    ////console.log(this.appendChainObj.__proto__)\r\n  }\r\n\r\n  get basePointer() {\r\n    return this._root\r\n      ? this._root._basePointer.next(this._rootpath)\r\n      : this._basePointer;\r\n  }\r\n\r\n  newObject() {\r\n    return this._prototype.constructor.name === \"Array\"\r\n      ? []\r\n      : Object.create(this._prototype);\r\n    /*let appendChainObj = Object.create({\r\n      ...this._prototype,\r\n      $: this\r\n    });\r\n    var res = appendChainObj;\r\n    //res.$ = this;\r\n    ////console.log(\"eqcheck\", res.$ === this);\r\n    return res;*/\r\n  }\r\n\r\n  newPrimitive(p) {\r\n    return p;\r\n    /*let appendChainObj = Object.create({\r\n      ...this._prototype,\r\n      $: this,\r\n      $isPrimitive: true,\r\n      valueOf() {\r\n        return p;\r\n      },\r\n      [Symbol.toPrimitive](hint) {\r\n        return p;\r\n      }\r\n    });\r\n    let res = Object.setPrototypeOf(\r\n      new p.constructor(p),\r\n      appendChainObj.__proto__\r\n    );\r\n    ////console.log(\"eqcheck\", res.$ == this);\r\n    return res;*/\r\n  }\r\n\r\n  childTemplate(value) {\r\n    return this.basePointer.childTemplate(value);\r\n  }\r\n\r\n  tempate(value) {\r\n    return this.basePointer.tempate(value);\r\n  }\r\n\r\n  _backprop_delcache() {\r\n    this.performHook(\"beforeDeleteCache\", this);\r\n    delete this._cacheVal;\r\n    this._last_update = update_ite++;\r\n    this._isStaging = true;\r\n    this.performHook(\"afterDeleteCache\", this);\r\n    if (this._parent) {\r\n      this._parent._backprop_delcache();\r\n    }\r\n  }\r\n\r\n  _backprop_defined() {\r\n    this._undefined = false;\r\n    if (typeof this._prototype === \"undefined\") {\r\n      this._prototype =\r\n        this.basePointer.get() && this.basePointer.get().__proto__;\r\n    }\r\n    if (this._parent) {\r\n      //console.log(\"defined_parent\",this._parent);\r\n      this._parent._backprop_defined();\r\n    }\r\n  }\r\n\r\n  _set(value, options, oldVal) {\r\n    if (!options) options = {};\r\n    if (value instanceof BasePointer) return super.set(value, options);\r\n    if (typeof value !== \"undefined\") this._backprop_defined();\r\n\r\n    this._isHOP = false;\r\n\r\n    this.performHook(\"beforeSetDeep\", value, oldVal, this, options);\r\n\r\n    if (!options.backpropagate) {\r\n      delete this._cacheVal;\r\n      if (typeof value !== \"undefined\" && value !== null) {\r\n        this._prototype = value.prototype || value.__proto__;\r\n        delete this._prototype.$;\r\n      } else {\r\n        delete this._prototype;\r\n      }\r\n      if (value == null) {\r\n        delete this._primitive;\r\n        for (let key in this._child) {\r\n          delete this._child[key];\r\n        }\r\n      } else if (typeof value === \"object\" && !value.$isPrimitive) {\r\n        var keys = Object.keys(value);\r\n        for (let key of keys) {\r\n          ////console.log(key);\r\n          if (typeof this._child[key] === \"undefined\") {\r\n            this._child[key] = new this.constructor(value[key], {\r\n              parent: this,\r\n              parentkey: key\r\n            });\r\n          } else {\r\n            this._child[key]._set(value[key]);\r\n          }\r\n        }\r\n\r\n        var needdel = difference(Object.keys(this._child), keys);\r\n        for (let key of needdel) {\r\n          delete this._child[key];\r\n        }\r\n        delete this._primitive;\r\n      } else {\r\n        if (typeof value === \"object\") {\r\n          ////console.log(\"value\", value);\r\n          this._primitive = value.valueOf();\r\n        } else {\r\n          this._primitive = value;\r\n        }\r\n        for (let key in this._child) {\r\n          delete this._child[key];\r\n        }\r\n      }\r\n    } else {\r\n      ////console.log(\"delcache\");\r\n      this.performHook(\"beforeDeleteCache\", this);\r\n      //to perform cache\r\n      //this._get();\r\n      delete this._cacheVal;\r\n      //var key = Object.keys(value)[0];\r\n      //this._cacheVal[key] = value[key];\r\n      this.performHook(\"afterDeleteCache\", this);\r\n\r\n      this.performHook(\"beforeSetBP\", this._cacheVal, oldVal, this, options);\r\n      if (this._parent && this._parentkey) {\r\n        this._parent._set(\r\n          { [this._parentkey]: value },\r\n          { backpropagate: true },\r\n          oldVal\r\n        );\r\n\r\n        //console.log(\"backpropset\", this._parent.get());\r\n      }\r\n      this.performHook(\"afterSetBP\", this._cacheVal, oldVal, this, options);\r\n    }\r\n\r\n    //backpropagate to parent\r\n    //this._backprop_delcache();\r\n\r\n    this.performHook(\"afterSetDeep\", value, oldVal, this, options);\r\n  }\r\n\r\n  set(value, options) {\r\n    var oldVal = this._get();\r\n    this.performHook(\"beforeSet\", value, oldVal, this, options);\r\n\r\n    this._set(value, options, oldVal);\r\n\r\n    //to perform cache\r\n    //this._get();\r\n\r\n    this._backprop_perform(p => (p._isStaging = true));\r\n\r\n    this.performHook(\"beforeSetBP\", value, oldVal, this, options);\r\n    if (this._parent && this._parentkey) {\r\n      this._parent._set({ [this._parentkey]: value }, { backpropagate: true });\r\n      //console.log(\"backpropset\", this._parent.get());\r\n    }\r\n    this.performHook(\"afterSetBP\", value, oldVal, this, options);\r\n\r\n    //this._backprop_delcache();\r\n\r\n    this.performHook(\"afterSet\", value, oldVal, this, options);\r\n  }\r\n\r\n  _setIn_inner(path, value, options) {\r\n    //for optimization\r\n    //console.log(\"setpath\", path, path.length);\r\n    if (path.length > 0) {\r\n      var next = path.pop();\r\n      this.next(next)._setIn_inner(path, value, options);\r\n    } else {\r\n      //console.log(this.get());\r\n      this.set(value, options);\r\n    }\r\n  }\r\n\r\n  setIn(path, value, options) {\r\n    path = toPath(path).reverse();\r\n    this._setIn_inner(path, value, options);\r\n  }\r\n\r\n  get isStaging() {\r\n    if (typeof this._parent === \"undefined\") return this._isStaging;\r\n    return this._isStaging && this._parent.isStaging;\r\n    //return this._isStaging;\r\n  }\r\n\r\n  _get(options) {\r\n    if (!options) options = {};\r\n    if (this.isHOP) return super.get(options);\r\n    this.performHook(\"beforeGetDeep\", this);\r\n\r\n    /*if (this.basePointer) {\r\n      console.log(this.get_last_update(), this.basePointer.get_last_update());\r\n    } else {\r\n      console.log(\"basePointer bug\", this._parent);\r\n    }*/\r\n\r\n    //console.log(this.isStaging, this._rootpath);\r\n\r\n    var baseValue = this.basePointer.get();\r\n    //console.log(this.isStaging);\r\n\r\n    if (this.basePointer && !this.isStaging) {\r\n      delete this._cacheVal;\r\n      return baseValue;\r\n    }\r\n\r\n    if (typeof baseValue === \"object\" && baseValue !== null) {\r\n      var keys = merge(Object.keys(this._child), Object.keys(baseValue));\r\n      var keys_contain = {};\r\n      for (var key of keys) keys_contain[key] = true;\r\n      //console.log(\"keys\", keys);\r\n    }\r\n\r\n    var res = (() => {\r\n      if (this._undefined) return undefined;\r\n      if (typeof this._cacheVal !== \"undefined\") return this._cacheVal;\r\n      if (typeof this._primitive !== \"undefined\")\r\n        if (!options.clean) return this.newPrimitive(this._primitive);\r\n        else return this._primitive;\r\n      if (typeof this._prototype === \"undefined\") return null;\r\n      var res = options.clean\r\n        ? Object.create(this._prototype)\r\n        : this.newObject();\r\n      if (this._prototype.constructor.name === \"Array\") {\r\n        var curri = 0;\r\n        while (keys_contain[curri]) {\r\n          //console.log(\"fsdfdsf\", curri, this.next(curri)._get())\r\n          var value = this.next(curri)._get();\r\n          if (typeof value === \"undefined\") break;\r\n          res[curri] = value;\r\n          curri++;\r\n        }\r\n\r\n        /*var keys = Object.keys(this._child).sort(\r\n          (a, b) => parseInt(a) - parseInt(b)\r\n        );\r\n        for (var key of keys) {\r\n          if (!isNaN(key)) {\r\n            let value = this._child[key]._get();\r\n            if (typeof value !== \"undefined\") res.push(value);\r\n          }\r\n        }\r\n        this._lastKey = keys[keys.length - 1];\r\n        if (typeof this._lastKey === \"undefined\") this._lastKey = -1;\r\n        this._lastKey = parseInt(this._lastKey);*/\r\n        //console.log(\"lastKey\",keys)\r\n      } else {\r\n        for (var key of keys) {\r\n          //console.log(\"run\", key, this._child[key]._get(), this._child[key]);\r\n          res[key] = this.next(key) && this.next(key)._get();\r\n          if (typeof res[key] === \"undefined\") delete res[key];\r\n        }\r\n      }\r\n\r\n      return (this._cacheVal = res);\r\n    })();\r\n\r\n    this.performHook(\"afterGetDeep\", res, this);\r\n    return res;\r\n  }\r\n\r\n  get(options) {\r\n    this.performHook(\"beforeGet\", this);\r\n    this.performHookBackprop(\"beforeGetBP\", this);\r\n    var res = this._get(options);\r\n    this.performHook(\"afterGet\", res, this);\r\n    this.performHookBackprop(\"afterGetBP\", res, this);\r\n    return res;\r\n  }\r\n\r\n  _getIn_inner(path, options) {\r\n    if (path.length > 0) {\r\n      var next = path.pop();\r\n      ////console.log(next);\r\n      return this.next(next)._getIn_inner(path, options);\r\n    } else {\r\n      return this.get(options);\r\n    }\r\n  }\r\n\r\n  getIn(path, options) {\r\n    path = toPath(path).reverse();\r\n    return this._getIn_inner(path, options);\r\n  }\r\n\r\n  push(...val) {\r\n    var curr = this.get();\r\n\r\n    this._backprop_perform(p => (p._isStaging = true));\r\n\r\n    if (Array.isArray(curr)) {\r\n      //console.log(this._lastKey);\r\n      for (var x = 0; x < val.length; x++) {\r\n        this.performHook(\"beforePush\", val[x], curr, this);\r\n        this._child[curr.length + x] = new this.constructor(val[x], {\r\n          parent: this,\r\n          parentkey: curr.length + x\r\n        });\r\n        this._child[curr.length + x]._isStaging = true;\r\n        this.performHook(\r\n          \"afterPush\",\r\n          val[x],\r\n          curr,\r\n          this,\r\n          this._child[curr.length + x]\r\n        );\r\n      }\r\n      //curr.push(...val);\r\n    }\r\n    this._backprop_delcache();\r\n  }\r\n\r\n  pop(index) {\r\n    var curr = this.get();\r\n    if (Array.isArray(curr)) {\r\n      if (typeof index === \"undefined\") curr.pop();\r\n      else curr.splice(index, 1);\r\n      this.set(curr);\r\n    } else {\r\n      if (typeof index === \"undefined\") {\r\n        var keys = Object.keys(this._child);\r\n        index = keys[keys.length - 1];\r\n      }\r\n      delete curr[index];\r\n      this.set(curr);\r\n    }\r\n    this._backprop_delcache();\r\n    return curr[index];\r\n  }\r\n\r\n  delete(index) {\r\n    if (typeof index !== \"undefined\") {\r\n      return this.pop(index);\r\n    }\r\n\r\n    if (this._parent) {\r\n      var parentval = this._parent.get();\r\n      if (typeof parentval === \"object\") {\r\n        //console.log(this._parent.get().length);\r\n        return this._parent.pop(this._parentkey);\r\n      } else {\r\n        throw new Error(\"Cannot delete since parent is not object.\");\r\n      }\r\n    } else {\r\n      this._child = {};\r\n      this.performHook(\"afterDelete\", this);\r\n      this._backprop_delcache();\r\n      return this;\r\n    }\r\n  }\r\n\r\n  fittemplate() {\r\n    var templatekeys = Object.keys(this.template() || {});\r\n    var currvalue = this.get();\r\n    var filteredvalue = {};\r\n    if (Array.isArray(currvalue)) {\r\n      filteredvalue = [];\r\n      for(let key in currvalue) {\r\n        filteredvalue.push(this.next(key).fittemplate());\r\n      }\r\n    } else {\r\n      //console.log(currvalue);\r\n      if (typeof currvalue === \"object\" && currvalue !== null) {\r\n        if (templatekeys.length > 0) {\r\n          for (let key in currvalue) {\r\n            if (templatekeys.indexOf(key) !== -1)\r\n              filteredvalue[key] = currvalue[key];\r\n            if (typeof filteredvalue[key] === \"object\") {\r\n              filteredvalue[key] = this.next(key).fittemplate();\r\n            }\r\n          }\r\n        } else return currvalue;\r\n      } else return currvalue;\r\n    }\r\n    return filteredvalue;\r\n  }\r\n\r\n  commit(msg) {\r\n    var filteredvalue = this.fittemplate();\r\n\r\n    console.log(\"commit\", filteredvalue, this._hook);\r\n\r\n    this.performHook(\"beforeCommit\", filteredvalue, this, msg);\r\n    this.performHookBackprop(\"beforeCommitBP\", filteredvalue, this, msg);\r\n    this.basePointer.set(this.get());\r\n    this.performHook(\"afterCommit\", filteredvalue, this, msg);\r\n    this.performHookBackprop(\"afterCommitBP\", filteredvalue, this, msg);\r\n\r\n    this._isStaging = false;\r\n  }\r\n\r\n  reset() {\r\n    this.set(this.basePointer.get());\r\n\r\n    this._isStaging = false;\r\n  }\r\n\r\n  /*isStaging() {\r\n    return this._last_update > this.basePointer._last_update;\r\n  }*/\r\n\r\n  getShallow(options) {\r\n    if (!options) options = {};\r\n\r\n    if (this._undefined) return undefined;\r\n    //if (typeof this._cacheVal !== \"undefined\") return this._cacheVal;\r\n    if (typeof this._primitive !== \"undefined\")\r\n      if (!options.clean) return this.newPrimitive(this._primitive);\r\n      else return this._primitive;\r\n    if (typeof this._prototype === \"undefined\")\r\n      this._prototype = Object.prototype;\r\n\r\n    var res = [];\r\n    var counter = 0;\r\n\r\n    if (this._prototype.constructor.name === \"Array\") {\r\n      var curri = 0;\r\n      while (typeof this._child[curri] !== \"undefined\") {\r\n        var value = this._child[curri];\r\n        if (value._undefined) break;\r\n        if (typeof options.start === \"undefined\" || counter >= options.start) {\r\n          res.push(value);\r\n          //console.log(options.start, counter);\r\n        }\r\n        curri++;\r\n        counter++;\r\n        if (typeof options.limit !== \"undefined\") {\r\n          if (res.length >= options.limit) return res;\r\n        }\r\n      }\r\n    } else {\r\n      var addedcounter = 0;\r\n\r\n      for (var key in this._child) {\r\n        var value = this._child[key];\r\n        if (value._undefined) continue;\r\n        if (typeof options.start === \"undefined\" || counter >= options.start) {\r\n          res[key] = value;\r\n          addedcounter++;\r\n          //console.log(options.start, counter);\r\n        }\r\n        if (typeof options.limit !== \"undefined\") {\r\n          if (addedcounter >= options.limit) return res;\r\n        }\r\n        counter++;\r\n      }\r\n    }\r\n\r\n    //console.log(res);\r\n    return res;\r\n  }\r\n}\r\n\r\nexport default class Pointer extends BasePointer {\r\n  constructor(value, options) {\r\n    super(value, options);\r\n    if (typeof this._parent === \"undefined\") {\r\n      this._stageDiff = new DiffPointer(undefined, { basePointer: this });\r\n      //console.log(\"rootafter\", this._stageDiff._root);\r\n    }\r\n  }\r\n\r\n  hook(name, fn, options) {\r\n    if (!options) options = {};\r\n    if (options.baseOnly) {\r\n      return super.hook(name,fn,options);\r\n    } else {\r\n      super.hook(name,fn,options);\r\n      var stageDiff = this.getStageDiff();\r\n      //for prevent hook in super constructor\r\n      if (stageDiff) stageDiff.hook(name,fn,options);\r\n    }\r\n  }\r\n\r\n  getStageDiff() {\r\n    if (!this._root._stageDiff) return null;\r\n    return this._root._stageDiff.next(this._rootpath);\r\n  }\r\n\r\n  stage(value) {\r\n    var stageDiff = this.getStageDiff();\r\n    //console.log(\"stageDiff\", stageDiff);\r\n    if (typeof value === \"undefined\") return stageDiff;\r\n    stageDiff.set(value);\r\n  }\r\n\r\n  stageIn(path, value) {\r\n    var stageDiff = this.getStageDiff();\r\n    if (typeof value === \"undefined\") return stageDiff.next(path);\r\n    stageDiff.setIn(path, value);\r\n  }\r\n\r\n  commit(msg) {\r\n    var stageDiff = this.getStageDiff();\r\n    stageDiff.commit(msg);\r\n  }\r\n\r\n  reset(msg) {\r\n    var stageDiff = this.getStageDiff();\r\n    stageDiff.reset();\r\n  }\r\n\r\n  getCurrent() {\r\n    var stageDiff = this.getStageDiff();\r\n    return stageDiff.get();\r\n  }\r\n\r\n  get current() {\r\n    return this.getCurrent();\r\n  }\r\n}\r\n","import { createStore } from \"redux\";\r\n\r\nexport var store;\r\n\r\nexport default function pointerStore(...args) {\r\n  store = createStore(...args);\r\n  return store;\r\n}\r\n","import { toPath, get } from \"lodash\";\r\nimport createGlobalPointer, { pointerStore } from \"./createGlobalPointer\";\r\n\r\nexport default function globalPointer(path, defaultValue) {\r\n  path = toPath(path);\r\n  var p = pointerStore[path[0]];\r\n  if (!p) {\r\n    pointerStore[path[0]] = createGlobalPointer(path, defaultValue);\r\n    p = pointerStore[path[0]];\r\n  }\r\n  //console.log(\"selector\", path, selector);\r\n  return p;\r\n}\r\n\r\nwindow.globalPointer = globalPointer;","import { toPath, debounce } from \"lodash\";\r\nimport Pointer, { BasePointer } from \"./pointer\";\r\nimport { store } from \"./pointerStore\";\r\nimport globalPointer from './globalPointer';\r\n\r\nexport const pointerStore = {};\r\n\r\nwindow.pointerStore = pointerStore;\r\n\r\nexport default function createGlobalPointer(path, value) {\r\n  path = toPath(path);\r\n  /*if (typeof pointerStore[path[0]] !== \"undefined\") {\r\n    throw new Error(\"ReduxRef \" + path + \" already defined\");\r\n  }*/\r\n  \r\n  var hook = debounce(() => {\r\n    //store.dispatch({ type: \"$Chomtana.UpdateGlobalState\", path: path });\r\n    console.log(\"hook\");\r\n    setTimeout(()=>store.dispatch({ type: \"$Chomtana.UpdateGlobalState\", path: \"xxx\" }), 50);\r\n  }, 10);\r\n  \r\n  if (pointerStore[path[0]] instanceof BasePointer) {\r\n\tpointerStore[path[0]].set(value);\r\n\t//hook();\r\n\treturn pointerStore[path[0]];\r\n  }\r\n\r\n\r\n\r\n  var p = new Pointer(value);\r\n  hook();\r\n  p.hook(\"afterSetBP\", hook);\r\n  //p.stage().hook(\"afterSetBP\", hook);\r\n  p.hook(\"afterMarkBP\", hook);\r\n  //p.stage().hook(\"afterMarkBP\", hook);\r\n  pointerStore[path[0]] = p;\r\n  return p;\r\n}\r\n\r\nwindow.createGlobalPointer = createGlobalPointer\r\nwindow.globalPointer = globalPointer;\r\n","import { toPath, get } from \"lodash\";\r\nimport { useSelector } from \"react-redux\";\r\nimport createGlobalPointer, { pointerStore } from \"./createGlobalPointer\";\r\n\r\nexport default function usePointer(path) {\r\n  path = toPath(path);\r\n  var p = pointerStore[path[0]];\r\n  if (!p) {\r\n    createGlobalPointer(path, undefined);\r\n  }\r\n  const selector = useSelector(state =>\r\n    get(state, [\"__chomtana_global_states\", \"xxx\"/*...path*/])\r\n  );\r\n  //console.log(\"selector\", path, selector);\r\n  return p;\r\n}\r\n","import { toPath, get } from \"lodash\";\r\nimport { useSelector } from \"react-redux\";\r\nimport createGlobalPointer, { pointerStore } from \"./createGlobalPointer\";\r\nimport usePointer from \"./usePointer\";\r\nimport { useState } from 'react';\r\n\r\nvar locali = 1;\r\n\r\nexport default function useStatePointer(value) {\r\n  const [path,setPath] = useState(\"$local\"+locali);\r\n  if (path === \"$local\"+locali) {\r\n    createGlobalPointer(path, value)\r\n    locali++;\r\n  }\r\n  return usePointer(path);\r\n}\r\n","import React from \"react\";\r\nimport HBox from \"./HBox\";\r\n\r\nimport { merge } from 'lodash';\r\n\r\nexport default function LCRBox(props) {\r\n  return (\r\n    <HBox style={props.style}>\r\n      {props.left ? React.cloneElement(props.left, { ratio: 0 }) : <div ratio={0} />}\r\n      {props.center ? (\r\n        React.cloneElement(props.center, { ratio: 1 })\r\n      ) : (\r\n        <div ratio={1} />\r\n      )}\r\n      {props.right ? React.cloneElement(props.right, { ratio: 0 }) : <div ratio={0} />}\r\n    </HBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function VBox(props) {\r\n  return (\r\n    <div {...props} style={merge({ width: \"100%\" }, props.style)}>\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginTop = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginBottom = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        //console.log(gapStyle);\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"100%\",\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function CategoryIcon(props) {\r\n  //props.category\r\n  return (\r\n    <div>\r\n      <img src={\"./img/category/\" + props.category(\"icon\")() + \".png\"} height={40} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from '@material-ui/core/Icon'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function Icon({ icon, type, size, color, bgColor }) {\r\n  return (<>\r\n    {(!type || type == \"material\" ? <MaterialIcon style={{ color, width: size + 4, height: size + 4, fontSize: size, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}>{icon}</MaterialIcon>\r\n      : (type == \"fa\" ? <FontAwesomeIcon icon={icon} style={{ color, width: size + 4, height: size + 4, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}></FontAwesomeIcon> : <>/</>)\r\n    )}\r\n  </>)\r\n}","import { cloneDeep, toPath, merge, isEqual } from \"lodash\";\r\n//Credit: https://stackoverflow.com/questions/36871299/how-to-extend-function-with-es6-classes\r\nclass ExtensibleFunction extends Function {\r\n    constructor(f) {\r\n        super();\r\n        return Object.setPrototypeOf(f, new.target.prototype);\r\n    }\r\n}\r\n/*export type PassedRef<Target = any, Value = any> = [Target, typeof Ref, Value];\r\n\r\nexport function isExtendsRef(x: any): Boolean {\r\n  return x === Ref || x.prototype instanceof Ref;\r\n}\r\n\r\n//we cannot check deeper information, it is language limitation\r\nexport function isPassedRef(x: any): x is PassedRef {\r\n  if (!Array.isArray(x)) return false;\r\n  if (x.length != 3) return false;\r\n  if (!isExtendsRef(x[1])) return false;\r\n  return true;\r\n}*/\r\nexport default class Ref extends ExtensibleFunction {\r\n    get value() {\r\n        return this.get();\r\n    }\r\n    set value(newvalue) {\r\n        this.set(newvalue);\r\n    }\r\n    get current() {\r\n        return this.getCurrent();\r\n    }\r\n    set current(newvalue) {\r\n        this.stage(newvalue);\r\n    }\r\n    constructor(input, parent) {\r\n        super((query) => {\r\n            if (typeof query !== \"undefined\") {\r\n                return this.performNext(query);\r\n            }\r\n            else {\r\n                return this.get();\r\n            }\r\n        });\r\n        if (!input)\r\n            input = [];\r\n        this.parent_ref = parent;\r\n        //default is target = input\r\n        //so that we can use constructor to make new ref\r\n        if (Array.isArray(input)) {\r\n            this.target = cloneDeep(input);\r\n        }\r\n        else {\r\n            this.target = toPath(input);\r\n        }\r\n    }\r\n    getTarget() {\r\n        return this.target;\r\n    }\r\n    set(newvalue) {\r\n        this.stage(cloneDeep(newvalue));\r\n        this.commit();\r\n    }\r\n    parent() {\r\n        return this.parent_ref;\r\n    }\r\n    /**\r\n     * Reset current value to last commit\r\n     */\r\n    reset() {\r\n        if (typeof this.get() !== \"undefined\") {\r\n            this.stage(this.get());\r\n        }\r\n        else {\r\n            this.delete();\r\n        }\r\n    }\r\n    makeNotExtension() {\r\n        return this;\r\n    }\r\n    //Helper functions\r\n    delete() {\r\n        const parent = this.parent();\r\n        const parent_val = cloneDeep(parent.get());\r\n        if (typeof parent_val === \"object\") {\r\n            parent.pop(this.target[this.target.length - 1]);\r\n        }\r\n    }\r\n    //Array Helper functions\r\n    perform_array_helper(getfn, setfn, arrayfn, ...x) {\r\n        if (Array.isArray(getfn.call(this))) {\r\n            var newarray = cloneDeep(getfn.call(this));\r\n            var callreturn = arrayfn.call(newarray, ...x);\r\n            setfn.call(this, newarray);\r\n            return callreturn;\r\n        }\r\n        throw new Error(\"Not an array\");\r\n    }\r\n    //Array Helper functions: set\r\n    push(...x) {\r\n        return this.perform_array_helper(this.get, this.set, Array.prototype.push, ...x);\r\n    }\r\n    pop(pos) {\r\n        if (typeof pos === \"undefined\") {\r\n            return this.perform_array_helper(this.get, this.set, Array.prototype.pop);\r\n        }\r\n        else {\r\n            if (Array.isArray(this.get())) {\r\n                //console.log(pos);\r\n                return this.perform_array_helper(this.get, this.set, Array.prototype.splice, pos, 1);\r\n            }\r\n            else {\r\n                var newval = cloneDeep(this.get());\r\n                delete newval[pos];\r\n                this.set(newval);\r\n            }\r\n        }\r\n    }\r\n    //Array Helper functions: stage\r\n    stagePush(...x) {\r\n        return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.push, ...x);\r\n    }\r\n    stagePop(x) {\r\n        if (typeof x === \"undefined\") {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.pop);\r\n        }\r\n        else {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.slice, x, 1);\r\n        }\r\n    }\r\n    //Array/ Object helper function: loop\r\n    map(callback) {\r\n        const a = cloneDeep(this.get());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    /**\r\n     * Map value that are available in staging but not in commited\r\n     * @param callback (value,key) callback function of map\r\n     */\r\n    stageMap(callback) {\r\n        const a = cloneDeep(this.getCurrent());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                if (this(key).is_staging()) {\r\n                    a[key] = callback(this(key), key);\r\n                }\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    allMap(callback) {\r\n        const a = cloneDeep(merge(this.get(), this.getCurrent()));\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    childRefs() {\r\n        try {\r\n            return this.map((value, key) => value);\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n            return { __chomtana_ref_not_has: true };\r\n        }\r\n    }\r\n    //General helper function\r\n    has() {\r\n        return typeof this.get() !== \"undefined\";\r\n    }\r\n    is_staging() {\r\n        //console.log(this.get(), this.getCurrent());\r\n        return !isEqual(this.get(), this.getCurrent());\r\n    }\r\n}\r\nexport class RefExtension extends Ref {\r\n}\r\n","import { set, get, cloneDeep } from 'lodash'\r\n\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport MusicVideoIcon from '@material-ui/icons/MusicVideo';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react';\r\n\r\n// The initial state of the App\r\nexport const initialState = {\r\n  categories: [\r\n    {\r\n      icon: \"fastfood\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#ffaa00\",\r\n      text: \"อาหาร และ เครื่องดื่ม\"\r\n    },\r\n    {\r\n      icon: \"flight\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#007AFF\",\r\n      text: \"การเดินทาง\"\r\n    },\r\n    {\r\n      icon: \"tshirt\",\r\n      icon_type: \"fa\",\r\n      icon_background: \"#ff00a5\",\r\n      text: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n    },\r\n    {\r\n      icon: \"shopping_basket\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#b600ff\",\r\n      text: \"ข้าวของเครื่องใช้ในชีวิตประจำวัน\"\r\n    },\r\n    {\r\n      icon: \"music_video\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#26a500\",\r\n      text: \"ความบันเทิง\"\r\n    },\r\n    {\r\n      icon: \"help_outline\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#414042\",\r\n      text: \"อื่นๆ\"\r\n    }\r\n  ],\r\n  records: [\r\n    {\r\n      category: {\r\n        icon: \"fastfood\",\r\n        icon_type: \"material\",\r\n        icon_background: \"#ffaa00\",\r\n        text: \"อาหาร และ เครื่องดื่ม\"\r\n      },\r\n      note: \"กินข้าว ICanteen\",\r\n      value: 40\r\n    }\r\n  ],\r\n  user: {\r\n    name: 'Pichet',\r\n    saving: 500,\r\n    goal: 10000,\r\n    achivement: ['Saving 500', 'Saving 1000'],\r\n    age: 30,\r\n    gender: 'Male',\r\n    email: '1234@gmail.com'\r\n  },\r\n\r\n  _route: {\r\n    path: []\r\n  },\r\n};\r\n\r\nfunction appReducer(state = initialState, action) {\r\n  if (!action) return state;\r\n  console.log(\"reducer\", state)\r\n  switch (action.type) {\r\n    case \"add_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.push({\r\n        category: \"\",\r\n        note: \"\",\r\n        value: null,\r\n        isnew: true\r\n      });\r\n\r\n      return { ...state, records };\r\n    }\r\n    case \"change_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records[action.i] = action.data;\r\n      if (!action.preserve_isnew) {\r\n        records[action.i].isnew = false;\r\n      }\r\n\r\n      return { ...state, records };\r\n    }\r\n    case \"delete_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.splice(action.i)\r\n\r\n      return { ...state, records };\r\n    }\r\n\r\n    case \"change_user\": {\r\n      var user = cloneDeep(state.user)\r\n      user = action.data\r\n      return { ...state, user }\r\n    }\r\n\r\n    case \"$Chomtana.RefCommit\": {\r\n      let newState = cloneDeep(state);\r\n      let newVal = cloneDeep(action.value);\r\n      set(newState, action.path, newVal);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.RefStage\": {\r\n      console.log(\"startStage\", state);\r\n      let newState = cloneDeep(state);\r\n      let newVal = cloneDeep(action.value);\r\n      //console.log(newState, newVal);\r\n      set(newState, [\"__chomtana_ref_stage\", ...action.path], newVal);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.NewStateRef\": {\r\n      let newState = cloneDeep(state);\r\n      newState.__chomtana_ref_states[\r\n        \"local_\" + newState.__chomtana_ref_states._local_next_id++\r\n      ] = action.value;\r\n      //console.log(\"dispatched\", newState);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.UpdateGlobalState\": {\r\n      let newState = cloneDeep(state);\r\n      let oldrandomval = get(newState.__chomtana_global_states, action.path);\r\n      let randomval = Math.random();\r\n      while (randomval === oldrandomval) randomval = Math.random();\r\n      set(newState.__chomtana_global_states, action.path, randomval);\r\n      //console.log(\"gbnew\", newState);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.Router.Link\": {\r\n      let newState = cloneDeep(state);\r\n      newState._route.path = cloneDeep(action.to);\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","import { cloneDeep, get, set, merge } from \"lodash\";\r\n\r\nexport var initialState = {\r\n  __chomtana_global_states: {},\r\n  __chomtana_global_op: {},\r\n  __chomtana_ref_states: {\r\n    _local_next_id: 1\r\n  }\r\n};\r\n\r\nexport function buildReducer(oldReducer) {\r\n  if (oldReducer) initialState = merge(initialState, oldReducer());\r\n  //console.log(initialState);\r\n  return function reducer(state = initialState, action) {\r\n    switch (action.type) {\r\n      case \"$Chomtana.NewStateRef\": {\r\n        let newState = cloneDeep(state);\r\n        newState.__chomtana_ref_states[\r\n          \"local_\" + newState.__chomtana_ref_states._local_next_id++\r\n        ] = action.value;\r\n        //console.log(\"dispatched\", newState);\r\n        return newState;\r\n      }\r\n      case \"$Chomtana.UpdateGlobalState\": {\r\n        let newState = cloneDeep(state);\r\n        let oldrandomval = get(newState.__chomtana_global_states, action.path);\r\n        let randomval = Math.random();\r\n        while (randomval === oldrandomval) randomval = Math.random();\r\n        set(newState.__chomtana_global_states, action.path, randomval);\r\n        //console.log(\"gbnew\", newState);\r\n        return newState;\r\n      }\r\n      case \"$Chomtana.UpdateGlobalOp\": {\r\n        //console.log(\"update\", action.path);\r\n        let newState = cloneDeep(state);\r\n        let oldrandomval = get(newState.__chomtana_global_op, action.path);\r\n        let randomval = Math.random();\r\n        while (randomval === oldrandomval) randomval = Math.random();\r\n        set(newState.__chomtana_global_op, action.path, randomval);\r\n        //console.log(\"gbnew\", newState);\r\n        return newState;\r\n      }\r\n      default:\r\n        if (typeof oldReducer === \"function\") return oldReducer(state, action);\r\n        else return state;\r\n    }\r\n  };\r\n}\r\n\r\nexport default function pointerReducer(input) {\r\n  return buildReducer(input);\r\n}\r\n","import { createStore } from \"redux\";\r\nimport reducer from './reducer'\r\nimport createGlobalPointer from './pointer/createGlobalPointer';\r\nimport pointerStore from './pointer/pointerStore';\r\nimport pointerReducer from './pointer/pointerReducer';\r\n\r\nexport default pointerStore(pointerReducer(reducer), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\ncreateGlobalPointer(\"records\",[\r\n  {\r\n    category: {\r\n      icon: \"fastfood\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#ffaa00\",\r\n      name: \"อาหาร และ เครื่องดื่ม\"\r\n    },\r\n    note: \"ข้าวผัดกุ้ง\",\r\n    value: 40,\r\n    is_revenue: 0\r\n  },\r\n  {\r\n    category: {\r\n      icon: \"tshirt\",\r\n      icon_type: \"fa\",\r\n      icon_background: \"#ff00a5\",\r\n      name: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n    },\r\n    note: \"ซื้อเสื้อแบรนเนม\",\r\n    value: 200,\r\n    is_revenue: 0\r\n  }\r\n])\r\n\r\ncreateGlobalPointer(\"categories\",[\r\n  {\r\n    icon: \"fastfood\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#ffaa00\",\r\n    name: \"อาหาร และ เครื่องดื่ม\"\r\n  },\r\n  {\r\n    icon: \"travel\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#007AFF\",\r\n    name: \"การเดินทาง\"\r\n  },\r\n  {\r\n    icon: \"tshirt\",\r\n    icon_type: \"fa\",\r\n    icon_background: \"#ff00a5\",\r\n    name: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n  },\r\n  {\r\n    icon: \"shopping\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#b600ff\",\r\n    name: \"ข้าวของเครื่องใช้ในชีวิตประจำวัน\"\r\n  },\r\n  {\r\n    icon: \"music\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#26a500\",\r\n    name: \"ความบันเทิง\"\r\n  },\r\n  {\r\n    icon: \"other\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#414042\",\r\n    name: \"อื่นๆ\"\r\n  }\r\n])\r\n\r\nexport const record_template = {\r\n  category: {\r\n    icon: \"fastfood\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#ffaa00\",\r\n    name: \"อาหาร และ เครื่องดื่ม\"\r\n  },\r\n  note: \"\",\r\n  value: 0,\r\n  is_revenue: 0\r\n}\r\n\r\nexport const nav_title = {\r\n  [[\"goal\"]]: \"Saving Goal\"\r\n}","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useSelector } from 'react-redux';\r\nimport VBox from './VBox';\r\nimport HBox from './HBox';\r\nimport LCRBox from './LCRBox';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport Icon from './Icon';\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useSelectorRef from '../refsystem/useSelectorRef';\r\nimport useGlobalRef from '../refsystem/useGlobalRef';\r\nimport usePointer from '../pointer/usePointer';\r\nimport CategoryIcon from './CategoryIcon';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  \r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"Close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction CategoryItem(props) {\r\n  const refs = props;\r\n  const category = refs.category_val();\r\n\r\n  const [isEditing,setIsEditing] = useState(false);\r\n\r\n  const confirm = window.confirm;\r\n\r\n  return (\r\n    <ButtonBase style={{justifyContent:\"left\", textAlign:\"left\", borderBottom: \"solid 1px rgb(204, 204, 204)\", paddingTop: 5, width: \"100%\"}} onClick={()=>{refs.category.set(category); refs.is_choosing.set(false);}}>\r\n      <LCRBox\r\n        left={\r\n          <CategoryIcon category={props.category_val}></CategoryIcon>\r\n        }\r\n        center={\r\n          <div style={{marginLeft: 5}}>{category.name}</div>\r\n        }\r\n        right={\r\n          <HBox notfluid>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"edit\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                if (confirm(\"คุณต้องการลบหมวดหมู่นี้จริงหรือไม่\")) {\r\n                  refs.category_val.delete();\r\n                }\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"delete\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n          </HBox>\r\n        }\r\n        \r\n      ></LCRBox>\r\n    </ButtonBase>\r\n  )\r\n\r\n}\r\n\r\nfunction SelectCategoriesDialog(props) {\r\n  const refs = {...props};\r\n  refs.categories = usePointer(\"categories\");\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        onClose={props.onClose}\r\n        open={props.is_choosing()}\r\n        fullWidth={true}\r\n      >\r\n        <DialogTitle onClose={props.onClose}>\r\n          เลือกหมวดหมู่\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <VBox>\r\n            {refs.categories.map(category=>\r\n              <CategoryItem {...refs} category_val={category}></CategoryItem>\r\n            )}\r\n          </VBox>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{\r\n              var text = prompt(\"กรุณาใส่ชื่อของหมวดหมู่\")\r\n              if (text) {\r\n                refs.categories.push({      \r\n                  icon: \"help_outline\",\r\n                  icon_type: \"material\",\r\n                  icon_background: \"#414042\",\r\n                  text: text\r\n                })\r\n              }\r\n            }} \r\n            color=\"primary\"\r\n          >\r\n            เพิ่มหมวดหมู่\r\n          </Button>\r\n          <Button onClick={()=>refs.is_choosing.set(false)} color=\"secondary\">\r\n            ยกเลิก\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectCategoriesDialog;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport LCRBox from \"./LCRBox\";\r\nimport VBox from \"./VBox\";\r\nimport { MenuItem, Select, Input, FormControl } from \"@material-ui/core\";\r\nimport CategoryIcon from \"./CategoryIcon\";\r\nimport SelectCategoriesDialog from \"./SelectCategoriesDialog\";\r\nimport useStatePointer from \"../pointer/useStatePointer\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\nfunction Category(props) {\r\n  const is_choosing = useStatePointer(false);\r\n\r\n  return (\r\n    <VBox>\r\n      <div>หมวดหมู่</div>\r\n      <Button\r\n        style={{ textAlign: \"left\" }}\r\n        onClick={() => is_choosing.set(true)}\r\n      >\r\n        <LCRBox\r\n          left={<CategoryIcon category={props.record(\"category\")} />}\r\n          center={\r\n            <div style={{ marginLeft: 5 }}>\r\n              {props.record(\"category\")(\"name\")()}\r\n            </div>\r\n          }\r\n        />\r\n      </Button>\r\n      <SelectCategoriesDialog\r\n        is_choosing={is_choosing}\r\n        category={props.record(\"category\")}\r\n      />\r\n    </VBox>\r\n  );\r\n}\r\n\r\nfunction RecordType(props) {\r\n  return (\r\n    <FormControl fullWidth>\r\n      <InputLabel htmlFor=\"record-type-input\">\r\n        ชนิด (รายรับ / รายจ่าย)\r\n      </InputLabel>\r\n      <Select\r\n        fullWidth\r\n        input={<Input style={{ width: \"100%\" }} id=\"record-type-input\" />}\r\n        value={props.record(\"is_revenue\")()}\r\n        onChange={e => props.record(\"is_revenue\").set(e.target.value)}\r\n      >\r\n        <MenuItem value={0}>รายจ่าย</MenuItem>\r\n        <MenuItem value={1}>รายรับ</MenuItem>\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nfunction Value(props) {\r\n  return (\r\n    <LCRBox\r\n      center={\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          label=\"ราคา\"\r\n          type=\"number\"\r\n          value={props.record(\"value\")()}\r\n          onChange={e => props.record(\"value\").set(parseFloat(e.target.value))}\r\n          inputProps={{\r\n            step: \"any\"\r\n          }}\r\n          fullWidth\r\n        />\r\n      }\r\n      right={\r\n        <div\r\n          style={{\r\n            whiteSpace: \"nowrap\",\r\n            alignSelf: \"flex-end\",\r\n            marginBottom: 10\r\n          }}\r\n        >\r\n          บาท\r\n        </div>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Note(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      value={props.record(\"note\")()}\r\n      onChange={e => props.record(\"note\").set(e.target.value)}\r\n      label=\"บันทึก\"\r\n    />\r\n  );\r\n}\r\n\r\nexport default function RecordUpdate(props) {\r\n  function handleClose() {\r\n    props.open.set(false);\r\n    props.onClose && props.onClose(props.record);\r\n  }\r\n\r\n  function handleSubmit() {\r\n    props.onSubmit && props.onSubmit(props.record);\r\n    handleClose();\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.onCancel && props.onCancel(props.record);\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={props.open()} onClose={handleClose} fullWidth={true}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {props.createMode ? \"เพิ่ม\" : \"แก้ไข\"}รายการ\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <VBox>\r\n            <Category {...props} />\r\n            <RecordType {...props} />\r\n            <Value {...props} />\r\n            <Note {...props} />\r\n          </VBox>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCancel} color=\"primary\">\r\n            ยกเลิก\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n            บันทึก\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport HBox from \"../component/HBox\";\r\nimport Link from \"../router/Link\";\r\nimport { merge, cloneDeep } from \"lodash\";\r\nimport useStatePointer from \"../pointer/useStatePointer\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { useSelector } from \"react-redux\";\r\nimport RecordUpdate from \"./../component/RecordUpdate\";\r\nimport usePointer from \"../pointer/usePointer\";\r\nimport { record_template } from \"../store\";\r\nimport globalPointer from \"../pointer/globalPointer\";\r\n\r\nfunction Btn(props) {\r\n  return (\r\n    <div style={merge({ textAlign: \"center\" }, props.style)}>\r\n      <Link to={props.link}>\r\n        <img\r\n          src={\r\n            \"./img/bottomnav/\" +\r\n            (props.active ? \"active\" : \"notactive\") +\r\n            \"/\" +\r\n            props.img +\r\n            \".png\"\r\n          }\r\n          height={props.height || 30}\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Home(props) {\r\n  return <Btn {...props} img=\"home\" link={[\"home\"]} />;\r\n}\r\n\r\nfunction Goal(props) {\r\n  return <Btn {...props} img=\"goal\" link={[\"goal\"]} />;\r\n}\r\n\r\nfunction Add_Camera(props) {\r\n  //console.log(\"add run\");\r\n\r\n  return (\r\n    <div style={merge({ textAlign: \"center\" }, props.style)} onClick={() => {}}>\r\n      <img src={\"./img/bottomnav/camera.png\"} height={45} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Add_Microphone(props) {\r\n  //console.log(\"add run\");\r\n\r\n  return (\r\n    <div\r\n      style={merge({ textAlign: \"center\" }, props.style)}\r\n      onClick={() => {\r\n        function start() {\r\n          window.plugins.speechRecognition.startListening(\r\n            res => {\r\n              var nlpres = window.split_and_find(res);\r\n              if (!nlpres) {\r\n                alert(\"ไม่สามารถถอดคำพูดได้ กรุณาพูดใหม่ ตัวอย่างการพูด: กินข้าวไข่เจียว 30 บาท\")\r\n                return;\r\n              }\r\n              var category_name = nlpres.typeOfText;\r\n              var note = nlpres.text;\r\n              var value = nlpres.price;\r\n              if (!category_name) category_name = \"อื่นๆ\"\r\n\r\n              var category = globalPointer(\"categories\").find({\r\n                name: category_name\r\n              })\r\n\r\n              if (category) {\r\n                globalPointer(\"records\").push({\r\n                  category: category(),\r\n                  note,\r\n                  value,\r\n                  date: new Date(),\r\n                  is_revenue: 0\r\n                })\r\n              } else {\r\n                alert(\"ระบบเกิดความผิดพลาดในขั้นตอนการเชื่อมโยงหมวดหมู่ที่เก็บไว้ในระบบ\")\r\n              }\r\n\r\n              /*if (!category_name) {\r\n                alert(\"ไม่สามารถจำแนกประเภทได้ กรุณาพูดใหม่ ตัวอย่างการพูด: กินข้าวไข่เจียว 30 บาท\")\r\n              }*/\r\n              //alert(\"Result: \"+JSON.stringify(res))\r\n              //alert(\"Result: \" + JSON.stringify(window.split_and_find(res)));\r\n              // if res is array of string find catagories each text\r\n\r\n\r\n              //testNetwork();\r\n            },\r\n            err => {\r\n              alert(\"Start listening fail\\n\" + JSON.stringify(err));\r\n              //testNetwork();\r\n            },\r\n            {\r\n              language: \"th-TH\",\r\n              prompt: \"Test prompt\"\r\n            }\r\n          );\r\n        }\r\n        //alert(\"Test run\");\r\n        if (window.plugins) {\r\n          //alert(\"plugins found\");\r\n          window.plugins.speechRecognition.isRecognitionAvailable(\r\n            () => {\r\n              //alert(\"Available\");\r\n              window.plugins.speechRecognition.hasPermission(\r\n                hasPermission => {\r\n                  if (hasPermission) {\r\n                    //alert(\"Has permission\");\r\n                    start();\r\n                  } else {\r\n                    window.plugins.speechRecognition.requestPermission(\r\n                      () => {\r\n                        //alert(\"Request permission success\");\r\n                        start();\r\n                      },\r\n                      () => alert(\"Request permission fail\")\r\n                    );\r\n                  }\r\n                },\r\n                () => alert(\"Check has permission failed\")\r\n              );\r\n            },\r\n            () => {\r\n              alert(\"Not available\");\r\n            }\r\n          );\r\n        }\r\n      }}\r\n    >\r\n      <img src={\"./img/bottomnav/microphone.png\"} height={50} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Add_Manual(props) {\r\n  //console.log(\"add run\");\r\n  return (\r\n    <div\r\n      style={merge({ textAlign: \"center\" }, props.style)}\r\n      onClick={() => {\r\n        props.isAdding.set(true);\r\n      }}\r\n    >\r\n      <img src={\"./img/bottomnav/manualadd.png\"} height={45} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddBar(props) {\r\n  //console.log(\"addbar\");\r\n  //if (!props.showAddMenu()) return null;\r\n\r\n  return (\r\n    <Slide direction=\"up\" in={props.showAddMenu()} mountOnEnter unmountOnExit>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 60,\r\n          marginLeft: \"auto\",\r\n          marginRight: \"auto\",\r\n          width: 200 /* Need a specific value to work */\r\n        }}\r\n      >\r\n        <HBox>\r\n          <Add_Camera {...props} />\r\n          <Add_Microphone {...props} />\r\n          <Add_Manual {...props} />\r\n        </HBox>\r\n      </div>\r\n    </Slide>\r\n  );\r\n}\r\n\r\nfunction Add(props) {\r\n  //console.log(\"add run\");\r\n\r\n  return (\r\n    <div\r\n      style={merge({ textAlign: \"center\" }, props.style)}\r\n      onClick={() => {\r\n        props.showAddMenu.set(!props.showAddMenu());\r\n        //console.log(props.showAddMenu());\r\n      }}\r\n    >\r\n      <img\r\n        src={\r\n          \"./img/bottomnav/\" +\r\n          (props.active ? \"active\" : \"notactive\") +\r\n          \"/add.png\"\r\n        }\r\n        height={40}\r\n      />\r\n      <AddBar {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Graph(props) {\r\n  return <Btn {...props} img=\"graph\" link={[\"summary\"]} />;\r\n}\r\n\r\nfunction Settings(props) {\r\n  return <Btn {...props} img=\"settings\" link={[\"settings\"]} />;\r\n}\r\n\r\nexport default function BottomNav(props) {\r\n  const showAddMenu = useStatePointer(false);\r\n  const route = useSelector(state => state._route.path);\r\n\r\n  const records = usePointer(\"records\");\r\n\r\n  const record = useStatePointer(cloneDeep(record_template));\r\n\r\n  const isAdding = useStatePointer(false);\r\n\r\n  console.log(route, route.length == 0 || route[0] == \"home\");\r\n\r\n  return (\r\n    <HBox\r\n      style={{\r\n        width: \"100%\",\r\n        position: \"fixed\",\r\n        bottom: 0,\r\n        left: 0,\r\n        height: 50,\r\n        backgroundColor: \"#8D8D8B\"\r\n      }}\r\n    >\r\n      <Home {...props} active={route.length == 0 || route[0] == \"home\"} />\r\n      <Goal {...props} />\r\n      <Add {...props} showAddMenu={showAddMenu} isAdding={isAdding} />\r\n      <Graph {...props} />\r\n      <Settings {...props} />\r\n\r\n      {isAdding && (\r\n        <RecordUpdate\r\n          {...props}\r\n          open={isAdding}\r\n          record={record}\r\n          onSubmit={() => {\r\n            records.push(record());\r\n            record.set(cloneDeep(record_template));\r\n          }}\r\n          onCancel={() => {\r\n            record.set(cloneDeep(record_template));\r\n          }}\r\n        />\r\n      )}\r\n    </HBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NavBar from \"../component/NavBar\";\r\nimport BottomNav from \"./BottomNav\";\r\n\r\nexport default function MainLayout(props) {\r\n  return (\r\n    <div>\r\n      <NavBar>\r\n        <div style={{marginBottom: 50}}>\r\n          {props.children}\r\n        </div>\r\n      </NavBar>\r\n      <BottomNav></BottomNav>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function ProfilePicture(props) {\r\n  return (\r\n    <div style={merge({ textAlign: \"center\", marginRight: 5 }, props.style)}>\r\n      Pic\r\n    </div>\r\n  );\r\n}\r\n","import globalPointer from \"../pointer/globalPointer\";\r\n\r\nexport default function sumByCategory(records, categories) {\r\n  if (!records) records = globalPointer(\"records\")\r\n  if (!categories) categories = globalPointer(\"categories\")\r\n\r\n  var data = {}\r\n\r\n  for(var category of categories) {\r\n    var sum = 0;\r\n    for(var record of records) {\r\n      if (record(\"category\")(\"name\")() == category(\"name\")()) {\r\n        sum += record(\"value\")();\r\n      }\r\n    }\r\n    if (sum>0) {\r\n      data[category(\"name\")()] = sum;\r\n    }\r\n  }\r\n\r\n  return data;\r\n}","import React from \"react\"\r\nimport VBox from './../../../component/VBox';\r\nimport HBox from './../../../component/HBox';\r\nimport {merge} from \"lodash\"\r\nimport sumByCategory from \"../../../action/sumByCategory\";\r\n\r\nexport default function SummaryText(props) {\r\n  var sum_by_category = sumByCategory(props.records, props.categories);\r\n\r\n  var total = 0;\r\n  for (var x in sum_by_category) total += sum_by_category[x];\r\n\r\n  return <VBox style={merge(props.style,{marginRight: 50, paddingLeft: 20})}>\r\n    <div style={{fontSize: 20}}>\r\n      <HBox>\r\n        <div style={{fontSize: 20}} ratio={2}>Balance:</div>\r\n        <div style={{fontSize: 20,textAlign:\"right\"}} ratio={1}>7650</div>\r\n      </HBox>\r\n    </div>\r\n    <div>\r\n      <HBox>\r\n        <div style={{fontSize: 17}} ratio={2}>Today Expense:</div>\r\n        <div style={{fontSize: 17,textAlign:\"right\"}} ratio={1}>{total}</div>\r\n      </HBox>\r\n    </div>\r\n  </VBox>\r\n}","import React from \"react\";\r\nimport ProfilePicture from \"./ProfilePicture\";\r\nimport SummaryText from \"./SummaryText\";\r\nimport HBox from \"./../../../component/HBox\";\r\n\r\nexport default function Summary(props) {\r\n  return (\r\n    <div style={props.style}>\r\n      <HBox style={{ backgroundColor: \"white\", padding: 10 }}>\r\n        <ProfilePicture {...props} ratio={1} />\r\n        <SummaryText {...props} ratio={5} />\r\n      </HBox>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function TodayTitle(props) {\r\n  return (\r\n    <div><span style={{fontSize:\"14pt\"}}>Today</span> 29 Jun 2019</div>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport HBox from \"./HBox\";\r\nimport LCRBox from \"./LCRBox\";\r\nimport CategoryIcon from \"./CategoryIcon\";\r\nimport { merge } from \"lodash\";\r\nimport VBox from \"./VBox\";\r\nimport useStatePointer from \"../pointer/useStatePointer\";\r\nimport RecordUpdate from \"./RecordUpdate\";\r\nimport { Button, ButtonBase } from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { Collapse } from \"@material-ui/core\";\r\n\r\nfunction NotEditing(props) {\r\n  return (\r\n    <div onClick={props.onClick}>\r\n      <LCRBox\r\n        left={<CategoryIcon category={props.record(\"category\")} />}\r\n        center={<div style={{ marginLeft: 20 }}>{props.record(\"note\")()}</div>}\r\n        right={\r\n          <div style={{ paddingRight: 50 }}>{props.record(\"value\")()}</div>\r\n        }\r\n        style={merge(props.style, { height: 45, paddingLeft: 20 })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EditingMenu(props) {\r\n  const showEditModal = useStatePointer(false);\r\n\r\n  return (\r\n    <div style={{ marginBottom: 10 }}>\r\n      <HBox>\r\n        <ButtonBase\r\n          onClick={() => props.record.delete()}\r\n          style={{ color: \"darkred\" }}\r\n        >\r\n          <DeleteIcon /> ลบ\r\n        </ButtonBase>\r\n        <ButtonBase\r\n          onClick={() => showEditModal.set(true)}\r\n          style={{ color: \"darkblue\" }}\r\n        >\r\n          <EditIcon /> แก้ไข\r\n        </ButtonBase>\r\n        <RecordUpdate {...props} open={showEditModal} />\r\n      </HBox>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Record(props) {\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  //props.record\r\n  return (\r\n    <div>\r\n      <NotEditing {...props} onClick={() => setEditing(!editing)} />\r\n      <Collapse in={editing}>\r\n        <EditingMenu {...props} />\r\n      </Collapse>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function SeeAllTransaction(props) {\r\n  return (\r\n    <div style={merge(props.style, { width: \"100%\", textAlign: \"right\" })}>\r\n      See All Transaction\r\n    </div>\r\n  );\r\n}\r\n","import React, { PureComponent } from \"react\";\r\nimport { PieChart, Pie, Sector, Cell } from \"recharts\";\r\nimport sumByCategory from \"../action/sumByCategory\";\r\n\r\nconst data = [\r\n  { name: \"Group A\", value: 400 },\r\n  { name: \"Group B\", value: 300 },\r\n  { name: \"Group C\", value: 300 },\r\n  { name: \"Group D\", value: 200 }\r\n];\r\n\r\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\n\r\nexport default function SummaryChart(props) {\r\n  const maxWidth = 300;\r\n  const width = Math.min(\r\n    window.innerWidth /*/ (props.fullWidth ? 1 : 2)*/,\r\n    maxWidth\r\n  );\r\n  const height = width / 1.4;\r\n\r\n  const records = props.records;\r\n  const categories = props.categories;\r\n\r\n  var data = [];\r\n\r\n  var sum_bycate = sumByCategory(records, categories);\r\n\r\n  for (var key in sum_bycate) data.push({ name: key, value: sum_bycate[key] });\r\n\r\n  console.log(data);\r\n\r\n  return (\r\n    <div style={{display:\"flex\", justifyContent:\"center\"}}>\r\n    <PieChart width={width} height={height}>\r\n      <Pie\r\n        data={data}\r\n        cx={width / 2}\r\n        cy={height / 2}\r\n        labelLine={false}\r\n        label={renderCustomizedLabel}\r\n        outerRadius={width / 3.5}\r\n        fill=\"#8884d8\"\r\n        dataKey=\"value\"\r\n      >\r\n        {data.map((entry, index) => (\r\n          <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n        ))}\r\n      </Pie>\r\n    </PieChart>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport sumByCategory from './../action/sumByCategory';\r\nimport VBox from './VBox';\r\nimport LCRBox from './LCRBox';\r\n\r\nexport default function SummaryText(props) {\r\n  var data = sumByCategory(props.records, props.categories);\r\n\r\n  var total = 0;\r\n  for(var x in data) total += data[x];\r\n\r\n  return (\r\n    <VBox gap={10}>\r\n      <div><b>Expense</b></div>\r\n      {Object.keys(data).map(category => \r\n        <LCRBox\r\n          center={<div>{category}</div>}\r\n          right={<div style={{whiteSpace: \"nowrap\"}}>{data[category]}</div>}\r\n        />\r\n      )}\r\n      <hr></hr>\r\n      <div style={{textAlign:\"right\"}}>{total}</div>\r\n    </VBox>\r\n  );\r\n}","import React from \"react\";\r\nimport HBox from \"../../../component/HBox\";\r\nimport SummaryChart from \"../../../component/SummaryChart\";\r\nimport VBox from \"./../../../component/VBox\";\r\nimport LCRBox from \"../../../component/LCRBox\";\r\nimport SummaryText from \"../../../component/SummaryText\";\r\n\r\nexport default function TodayChart(props) {\r\n  return (\r\n    <VBox>\r\n      <div>\r\n        <SummaryChart {...props} />\r\n      </div>\r\n      <div>\r\n        <SummaryText {...props} />\r\n      </div>\r\n    </VBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport TodayTitle from \"./TodayTitle\";\r\nimport VBox from \"./../../../component/VBox\";\r\nimport Record from \"./../../../component/Record\";\r\nimport SeeAllTransaction from \"./SeeAllTransaction\";\r\nimport TodayChart from \"./TodayChart\";\r\n\r\nexport default function Today(props) {\r\n  return (\r\n    <div style={props.style}>\r\n    <VBox gap={10} style={{backgroundColor:\"white\", padding: 10}}>\r\n      <TodayTitle {...props} />\r\n      {props.records.map(record => (\r\n        <Record record={record} hasEditMenu />\r\n      ))}\r\n      <SeeAllTransaction {...props} />\r\n      <TodayChart {...props} />\r\n    </VBox></div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport { withStyles, LinearProgress } from \"@material-ui/core\";\r\nimport { lighten } from \"@material-ui/core/styles\";\r\n\r\nexport default withStyles({\r\n  root: {\r\n    height: 20,\r\n    backgroundColor: lighten('#ff6c5c', 0.5),\r\n    borderRadius: 40\r\n  },\r\n  bar: {\r\n    borderRadius: 40,\r\n    backgroundColor: '#ff6c5c',\r\n  },\r\n})(LinearProgress);","import React from \"react\";\r\nimport LCRBox from \"../../../component/LCRBox\";\r\nimport VBox from \"./../../../component/VBox\";\r\n\r\nimport CategoryIcon from \"./../../../component/CategoryIcon\";\r\nimport CustomLinearProgress from \"../../../component/CustomLinearProgress\";\r\n\r\nexport default function Item(props) {\r\n  return (<div style={props.style}>\r\n    <LCRBox\r\n      left={\r\n        <div>\r\n          <CategoryIcon category={props.category} />\r\n        </div>\r\n      }\r\n      center={\r\n        <VBox style={{marginLeft: 20, marginRight: 20}}>\r\n          <div>{props.category(\"name\")()}</div>\r\n          <div>\r\n            <CustomLinearProgress variant=\"determinate\" value={props.percent} />\r\n          </div>\r\n        </VBox>\r\n      }\r\n      right={<div style={{alignSelf: \"flex-end\", marginBottom: 3}}>{props.sum || 0}</div>}\r\n    />\r\n  </div>);\r\n}\r\n","import React from \"react\";\r\nimport Item from \"./Item\";\r\nimport VBox from \"./../../../component/VBox\";\r\nimport sumByCategory from \"../../../action/sumByCategory\";\r\n\r\nexport default function WeeklyBudget(props) {\r\n  var sum_by_category = sumByCategory(props.records, props.categories);\r\n\r\n  var total = 0;\r\n  for (var x in sum_by_category) total += sum_by_category[x];\r\n\r\n  return (\r\n    <div style={props.style}>\r\n      <VBox gap={10} style={{ backgroundColor: \"white\", padding: 10 }}>\r\n        <div>Weekly Budget</div>\r\n        {props.categories.map(category => (\r\n          <Item\r\n            {...props}\r\n            category={category}\r\n            sum={sum_by_category[category(\"name\")()]}\r\n            percent={((sum_by_category[category(\"name\")()] || 0) / total) * 100}\r\n          />\r\n        ))}\r\n      </VBox>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport VBox from \"../../component/VBox\";\r\nimport usePointer from './../../pointer/usePointer';\r\nimport Summary from './Summary/index';\r\nimport Today from './Today/index';\r\nimport WeeklyBudget from './WeeklyBudget/index';\r\n\r\nexport default function Main(props) {\r\n  var extra = {};\r\n  extra.records = usePointer(\"records\");\r\n  extra.categories = usePointer(\"categories\");\r\n\r\n  return (\r\n    <VBox gap={10}>\r\n      <Summary {...props} {...extra} />\r\n      <Today {...props} {...extra} />\r\n      <WeeklyBudget {...props} {...extra} />\r\n    </VBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Input } from \"@material-ui/core\";\r\nimport { merge } from \"lodash\";\r\n\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default withStyles({\r\n  root: {\r\n    \"& .MuiInputBase-input\": {\r\n      padding: \"2px 0 2px\"\r\n    }\r\n  }\r\n})(Input);\r\n","import React, { useState } from \"react\";\r\n\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input, Fade } from \"@material-ui/core\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function NotEditing(props) {\r\n\r\n  const user = useSelector(state => state.user)\r\n\r\n  const percentSaving = (user.saving / user.goal) * 100\r\n  function savingBar() {\r\n    return <hr style={{ width: 50 }}></hr>\r\n  }\r\n  return (\r\n    <>\r\n      {(props.show) &&\r\n        <VBox gap={100} style={{ backgroundColor: 'white' }}>\r\n          <center>\r\n            <h1 style={{ fontSize: '50px' }}>Hello {user.name}</h1>\r\n          </center>\r\n          <HBox>\r\n            <h1>Name: {user.name}</h1>\r\n            <h1>Age: {user.age}</h1>\r\n          </HBox>\r\n          <HBox>\r\n            <h1>Gender: {user.gender}</h1>\r\n            <h1>Email: {user.email}</h1>\r\n          </HBox>\r\n          <HBox>\r\n            <div><h1>Achivement: </h1>{\r\n              user.achivement.map((data, i) => <h1>{data}</h1>)\r\n            }</div>\r\n          </HBox>\r\n          <HBox>\r\n            <h1 style={{ flexBasis: null }}>Saving: {user.saving}/ Goal: {user.goal}</h1>\r\n          </HBox>\r\n          <div style={{\r\n            border: '1px solid gray',\r\n            height: '50px'\r\n          }}>\r\n            <div style={{\r\n              width: `${(percentSaving > 100) ? 100 : percentSaving}%`,\r\n              backgroundColor: 'green',\r\n              height: '100%'\r\n            }}>\r\n            </div>\r\n          </div>\r\n          <HBox>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={props.onEditing}>\r\n                Config\r\n              </Button>\r\n            </center>\r\n          </HBox>\r\n        </VBox>\r\n      }\r\n    </>\r\n  )\r\n} \r\n","import React, { useState } from \"react\";\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\nimport InlineInput from '../InlineInput'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input, Fade } from \"@material-ui/core\";\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FilledInput from '@material-ui/core/FilledInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { cloneDeep } from 'lodash'\r\n\r\nexport default function Editing(props) {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n\r\n  const [name, setName] = useState(user.name)\r\n  const saving = user.saving\r\n  const [goal, setGoal] = useState(user.goal)\r\n  const achivement = user.achivement\r\n  const [age, setAge] = useState(user.age)\r\n  const [gender, setGender] = useState(user.gender)\r\n  const [email, setEmail] = useState(user.email)\r\n  function checkNumber(s) {\r\n    return /([0-9])$/.test(s) || s === \"\"\r\n  }\r\n\r\n  const percentSaving = (saving / goal) * 100\r\n\r\n  return (\r\n    <>\r\n      {(props.show) &&\r\n        <VBox gap={100} style={{ backgroundColor: 'white' }}>\r\n          <center>\r\n            <h1 style={{ fontSize: '50px' }}>Editting</h1>\r\n          </center>\r\n          <HBox>\r\n            <h1>Name: <InlineInput value={name} onChange={(e) => setName(e.target.value)} /></h1>\r\n            <h1>Age: <InlineInput value={age} onChange={(e) => {\r\n              // console.log(e.target.value)\r\n              if (checkNumber(e.target.value)) {\r\n                setAge(e.target.value)\r\n              }\r\n            }\r\n            } />\r\n            </h1>\r\n          </HBox>\r\n          <HBox>\r\n            <h1>Gender:\r\n              <FormControl variant=\"outlined\">\r\n                <Select\r\n                  native\r\n                  value={gender}\r\n                  onChange={(e) => { setGender(e.target.value) }}\r\n                >\r\n                  <option value={'Male'}>Male</option>\r\n                  <option value={'Female'}>Female</option>\r\n                  <option value={'Other'}>Other</option>\r\n                </Select>\r\n              </FormControl>\r\n            </h1>\r\n            <h1>Email: <InlineInput value={email} onChange={(e) => setEmail(e.target.value)} /></h1>\r\n          </HBox>\r\n          <HBox>\r\n            <div><h1>Achivement: </h1>{\r\n              user.achivement.map((data, i) => <h1>{data}</h1>)\r\n            }</div>\r\n          </HBox>\r\n          <HBox>\r\n            <h1 style={{ flexBasis: null }}>Saving: {user.saving}/Goal : <InlineInput value={goal} onChange={(e) => {\r\n              if (checkNumber(e.target.value)) {\r\n                setGoal(e.target.value)\r\n              }\r\n            }} /></h1>\r\n          </HBox>\r\n          <div style={{\r\n            border: '1px solid gray',\r\n            height: '50px'\r\n          }}>\r\n            <div style={{\r\n              width: `${(percentSaving > 100) ? 100 : percentSaving}%`,\r\n              backgroundColor: 'green',\r\n              height: '100%',\r\n              transition: '0.5s'\r\n            }}>\r\n            </div>\r\n          </div>\r\n          <HBox>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={() => {\r\n                  var newUser = {\r\n                    name, saving, goal, achivement, age, gender, email\r\n                  }\r\n                  dispatch({ type: 'change_user', data: newUser })\r\n                  props.onSubmit(user)\r\n                }}>\r\n                Submit\r\n              </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={props.onCancle}>\r\n                Cancle\r\n              </Button>\r\n            </center>\r\n          </HBox>\r\n        </VBox>\r\n      }\r\n    </>\r\n  )\r\n} ","import React from 'react'\r\nimport { Button } from '@material-ui/core';\r\nimport Link from './../router/Link';\r\n\r\nexport default function BackButton(props) {\r\n  return (\r\n    <Link to={[]}><Button>Back</Button></Link>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input } from \"@material-ui/core\";\r\n\r\nimport { merge } from \"lodash\";\r\nimport InlineInput from \"../InlineInput\";\r\nimport NotEditing from \"./NotEditing\";\r\nimport Editing from \"./Editing\";\r\nimport { useDispatch } from 'react-redux';\r\nimport BackButton from \"../BackButton\";\r\n\r\nexport default function ProfileContent(props) {\r\n  const [editing, setEditing] = useState(false);\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <VBox {...props}>\r\n      <BackButton></BackButton>\r\n      <NotEditing\r\n        {...props}\r\n        show={!editing}\r\n        onEditing={() => setEditing(true)}\r\n      />\r\n      <Editing\r\n        show={editing}\r\n        onSubmit={() => {\r\n\r\n          setEditing(false)\r\n        }}\r\n        onCancle={() => setEditing(false)}\r\n      />\r\n    </VBox>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport ProfileContent from '../component/Profile'\r\nimport BackButton from \"../component/BackButton\";\r\nexport default function Profile(props) {\r\n  return (\r\n    <div>\r\n      <ProfileContent {...props}></ProfileContent>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { isEqual } from 'lodash';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n\r\nexport default function Route(props) {\r\n  const state = useSelector(state=>state._route);\r\n\r\n  function calculateShow() {\r\n    if (props.exact) {\r\n      return isEqual(state.path,props.path);\r\n    } else {\r\n      var propspath = props.path;\r\n      var statepath = state.path;\r\n      if (typeof propspath == \"string\") propspath = propspath.split(\"/\");\r\n      if (typeof statepath == \"string\") statepath = statepath.split(\"/\");\r\n      if (propspath.length < statepath.length) {\r\n        statepath.slice(0,propspath.length);\r\n        return isEqual(statepath,propspath);\r\n      } else return false;\r\n    }\r\n  }\r\n\r\n  const show = calculateShow()\r\n  //console.log(show)\r\n\r\n  return show ? <props.component /> : <></>\r\n\r\n}","import React from 'react';\r\n\r\nconst FormField = ({formdata,id,change}) => {\r\n\r\n    const showError = () => {\r\n        let errorMessage = <div className=\"error_label\">\r\n                {\r\n                    formdata.validation && !formdata.valid ?\r\n                        formdata.validationMessage\r\n                    :null\r\n                }\r\n        </div>\r\n        return errorMessage\r\n    }\r\n\r\n\r\n\r\n    const renderTemplate = () => {\r\n        let formTemplate = null;\r\n\r\n        switch(formdata.element){\r\n            case('input'):\r\n                formTemplate = (\r\n                    <div>\r\n                        { formdata.showlabel ?\r\n                            <div className=\"label_inputs\">\r\n                                {formdata.config.label}\r\n                            </div>\r\n                            :null\r\n                        }\r\n                        <input\r\n                            {...formdata.config}\r\n                            value={formdata.value}\r\n                            onChange={(event)=> change({event,id})}\r\n                        />\r\n                        { showError() }\r\n                    </div>\r\n                )\r\n            break;\r\n            case('select'):\r\n                formTemplate = (\r\n                    <div>\r\n                        { formdata.showlabel ?\r\n                            <div className=\"label_inputs\">\r\n                                {formdata.config.label}\r\n                            </div>\r\n                            :null\r\n                        }\r\n                        <select\r\n                            value={formdata.value}\r\n                            onChange={(event)=> change({event,id})}\r\n                        >\r\n                            <option value=\"\">Select one</option>\r\n                            {\r\n                                formdata.config.options.map((item)=>(\r\n                                   <option key={item.key} value={item.key}>\r\n                                        {item.value}\r\n                                   </option> \r\n                                ))\r\n                            }\r\n                        </select>\r\n                        { showError() }\r\n                    </div>\r\n                )\r\n            break;\r\n            default:\r\n                formTemplate = null;\r\n\r\n        }\r\n        return formTemplate;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {renderTemplate()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormField;","import React, { Component } from 'react';\r\n//import { Container, Divider } from 'semantic-ui-react'\r\nimport FormField from '../component/ui/formField';\r\nimport { validate } from '../component/ui/mics';\r\nimport Link from './../router/Link';\r\nclass Login_page extends Component {\r\n\r\n    state = {\r\n        formError: false,\r\n        formSuccess: '',\r\n        formdata: {\r\n            email: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'email_input',\r\n                    type: 'email',\r\n                    placeholder: 'Enter your email'\r\n                },\r\n                validation: {\r\n                    required: true,\r\n                    email: true\r\n                },\r\n                valid: false,\r\n                validationMessage: ''\r\n            },\r\n            password: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'password_input',\r\n                    type: 'password',\r\n                    placeholder: 'Enter your password'\r\n                },\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                validationMessage: ''\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    updateForm(element) {\r\n        const newFormdata = { ...this.state.formdata }\r\n        const newElement = { ...newFormdata[element.id] }\r\n\r\n        newElement.value = element.event.target.value;\r\n\r\n        let validData = validate(newElement)\r\n        newElement.valid = validData[0];\r\n        newElement.validationMessage = validData[1]\r\n\r\n        newFormdata[element.id] = newElement;\r\n\r\n        this.setState({\r\n            formError: false,\r\n            formdata: newFormdata\r\n        })\r\n    }\r\n\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        //do sth if email and pass is valid\r\n        // may be I will use firbase for db naja\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"signin_wrapper\" style={{ margin: '100px' }}>\r\n\r\n                    <form onSubmit={(event) => this.submitForm(event)}>\r\n\r\n                        <h2>Please Login</h2>\r\n\r\n                        <FormField\r\n                            id={'email'}\r\n                            formdata={this.state.formdata.email}\r\n                            change={(element) => this.updateForm(element)}\r\n                        />\r\n\r\n                        <FormField\r\n                            id={'password'}\r\n                            formdata={this.state.formdata.password}\r\n                            change={(element) => this.updateForm(element)}\r\n                        />\r\n                        {this.state.formError ?\r\n                            <div className=\"error_label\">Something is wrong, try again.</div>\r\n                            : null\r\n                        }\r\n                        <Link to={[]}><button>Log in</button></Link>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Login_page;","import React from \"react\"\r\nimport VBox from './../../component/VBox';\r\nimport SummaryChart from \"../../component/SummaryChart\";\r\nimport SummaryText from \"../../component/SummaryText\";\r\n\r\n\r\n\r\nfunction ControlPanel(props) {\r\n  return <div>CTRLPANEL</div>\r\n}\r\n\r\nexport default function Summary(props) {\r\n  return (\r\n    <VBox>\r\n      <div style={{display:\"flex\", justifyContent:\"center\"}}>\r\n        <SummaryChart fullWidth></SummaryChart>\r\n      </div>\r\n      <ControlPanel></ControlPanel>\r\n      <SummaryText></SummaryText>\r\n    </VBox>\r\n  )\r\n}","import React from \"react\";\r\nimport VBox from \"../../../component/VBox\";\r\nimport HBox from './../../../component/HBox';\r\n\r\nfunction Pic(props) {\r\n  return <div style={props.style}>Pic</div>;\r\n}\r\n\r\nfunction Detail(props) {\r\n  return (\r\n    <VBox style={props.style}>\r\n      <div>Fender Telecaster American Standard</div>\r\n      <div>Amount : 50,000</div>\r\n      <div>Starting Date: 10 Jun 2019</div>\r\n      <div>Ending Date: 10 Jun 2020</div>\r\n    </VBox>\r\n  );\r\n}\r\n\r\nexport default function GoalDetailDeep(props) {\r\n  return (\r\n    <HBox style={props.style}>\r\n      <Pic {...props} ratio={1} />\r\n      <Detail {...props} ratio={4} />\r\n    </HBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport VBox from \"../../../component/VBox\";\r\nimport { merge } from \"lodash\";\r\nimport { green, blue } from \"@material-ui/core/colors\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  wrapper: {\r\n    margin: 10,\r\n    width: 135,\r\n    position: \"relative\"\r\n  },\r\n  buttonSuccess: {\r\n    backgroundColor: green[500],\r\n    \"&:hover\": {\r\n      backgroundColor: green[700]\r\n    }\r\n  },\r\n  fabProgress: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  },\r\n  textInProgress: {\r\n    width: 140,\r\n    height: 140,\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    fontSize: 20\r\n  }\r\n}));\r\n\r\nfunction Title(props) {\r\n  return <div style={{ textAlign: \"center\" }}>Time</div>;\r\n}\r\n\r\nfunction Progress(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      style={merge(props.style, {\r\n        position: \"relative\",\r\n        height: 140,\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      })}\r\n    >\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.textInProgress}>\r\n          345 <br /> days left\r\n        </div>\r\n        <CircularProgress\r\n          size={140}\r\n          variant=\"static\"\r\n          value={100}\r\n          thickness={5}\r\n          className={classes.fabProgress}\r\n          style={{zIndex: 1, color: green[400]}}\r\n        />\r\n        <CircularProgress\r\n          size={140}\r\n          variant=\"static\"\r\n          value={20}\r\n          thickness={5}\r\n          className={classes.fabProgress}\r\n          style={{zIndex: 2, color: \"white\"}}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function GoalTime(props) {\r\n  return (\r\n    <VBox style={props.style}>\r\n      <Title {...props} />\r\n      <Progress {...props} />\r\n    </VBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport VBox from \"../../../component/VBox\";\r\nimport { merge } from \"lodash\";\r\nimport { green, blue } from \"@material-ui/core/colors\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n  wrapper: {\r\n    margin: 10,\r\n    width: 135,\r\n    position: \"relative\"\r\n  },\r\n  buttonSuccess: {\r\n    backgroundColor: green[500],\r\n    \"&:hover\": {\r\n      backgroundColor: green[700]\r\n    }\r\n  },\r\n  fabProgress: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  },\r\n  textInProgress: {\r\n    width: 140,\r\n    height: 140,\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    fontSize: 20\r\n  }\r\n}));\r\n\r\nfunction Title(props) {\r\n  return <div style={{ textAlign: \"center\" }}>Money</div>;\r\n}\r\n\r\nfunction Progress(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      style={merge(props.style, {\r\n        position: \"relative\",\r\n        height: 140,\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      })}\r\n    >\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.textInProgress}>\r\n          2000 <br /> 4%\r\n        </div>\r\n        <CircularProgress\r\n          size={140}\r\n          variant=\"static\"\r\n          value={100}\r\n          thickness={5}\r\n          className={classes.fabProgress}\r\n          style={{zIndex: 1, color: green[400]}}\r\n        />\r\n        <CircularProgress\r\n          size={140}\r\n          variant=\"static\"\r\n          value={20}\r\n          thickness={5}\r\n          className={classes.fabProgress}\r\n          style={{zIndex: 2, color: \"white\"}}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function GoalMoney(props) {\r\n  return (\r\n    <VBox style={props.style}>\r\n      <Title {...props} />\r\n      <Progress {...props} />\r\n    </VBox>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport VBox from \"../../../component/VBox\";\r\nimport LCRBox from \"../../../component/LCRBox\";\r\nimport HBox from \"../../../component/HBox\";\r\nimport GoalDetailDeep from './GoalDetailDeep';\r\nimport GoalTime from \"./GoalTime\";\r\nimport GoalMoney from './GoalMoney';\r\n\r\nfunction Title(props) {\r\n  return <LCRBox center={<div><b style={{fontSize: 16}}>Current Goal</b></div>} style={{marginBottom: 10}} />\r\n}\r\n\r\nexport default function CurrentGoal(props) {\r\n  return (\r\n    <VBox style={{backgroundColor: \"white\", padding: 10}}>\r\n      <Title {...props}></Title>\r\n      <GoalDetailDeep {...props}></GoalDetailDeep>\r\n      <HBox>\r\n        <GoalTime {...props}></GoalTime>\r\n        <GoalMoney {...props}></GoalMoney>\r\n      </HBox>\r\n\r\n    </VBox>\r\n  )\r\n}","import React from \"react\";\r\nimport VBox from \"../../../component/VBox\";\r\nimport LCRBox from \"../../../component/LCRBox\";\r\nimport HBox from \"../../../component/HBox\";\r\nimport { merge } from \"lodash\";\r\n\r\nfunction Title(props) {\r\n  return (\r\n    <LCRBox\r\n      center={\r\n        <div>\r\n          <b style={{ fontSize: 16 }}>Previous Goal</b>\r\n        </div>\r\n      }\r\n      style={{ marginBottom: 10 }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default function PreviousGoal(props) {\r\n  return (\r\n    <VBox style={merge(props.style, { backgroundColor: \"white\", padding: 10 })}>\r\n      <Title {...props} />\r\n    </VBox>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport VBox from './../../component/VBox';\r\nimport CurrentGoal from \"./CurrentGoal\";\r\nimport PreviousGoal from \"./PreviousGoal\";\r\nimport BackButton from \"../../component/BackButton\";\r\n\r\nexport default function Goal(props) {\r\n  return (\r\n    <VBox gap={20}>\r\n      <BackButton></BackButton>\r\n      <CurrentGoal></CurrentGoal>\r\n      <PreviousGoal></PreviousGoal>\r\n    </VBox>\r\n  )\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import \"core-js/stable\";\r\nimport \"regenerator-runtime/runtime\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport MainLayout from \"./layout/MainLayout\";\r\n\r\nimport \"./index.css\";\r\nimport Main from \"./screens/Main\";\r\nimport Profile from './screens/Profile';\r\n\r\n//import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from 'react-redux'\r\nimport reducer from './reducer'\r\nimport Route from './router/Route';\r\nimport Login_page from './screens/Login_page';\r\n\r\nimport store from './store'\r\nimport Summary from './screens/Summary/index';\r\nimport Goal from './screens/Goal/index';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconsole.log(store);\r\n\r\nrequire(\"./initializeFa\")\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"App\">\r\n        <MainLayout>\r\n          <Route exact path={[\"summary\"]} component={Summary} />\r\n          <Route exact path={[\"profile\"]} component={Profile} />\r\n          <Route exact path={[\"login\"]} component={Main} />\r\n          <Route exact path={[\"goal\"]} component={Goal} />\r\n          <Route exact path={[\"home\"]} component={Main} />\r\n          <Route exact path={[]} component={Main} />\r\n        </MainLayout>\r\n      </div>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nfunction startApp() {\r\n  const rootElement = document.getElementById(\"root\");\r\n  ReactDOM.render(<App />, rootElement);\r\n}\r\n\r\nif (window.cordova) {\r\n  document.addEventListener('deviceready', startApp, false);\r\n} else {\r\n  startApp();\r\n}\r\n\r\nif (window.plugins) {\r\n  window.plugins.speechRecognition.isRecognitionAvailable(()=>{\r\n    alert(\"Available\")\r\n  },()=>{\r\n    alert(\"Not available\")\r\n  });\r\n}\r\n\r\n//make it PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}