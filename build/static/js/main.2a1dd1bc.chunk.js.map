{"version":3,"sources":["initializeFa.js","router/Link.js","component/NavBar.js","layout/MainLayout.js","component/VBox.js","component/HBox.js","component/LCRBox.js","component/UICard/index.js","component/Icon.js","refsystem/Ref.js","refsystem/RefContainer.js","refsystem/ReduxRef.js","refsystem/useSelectorRef.js","reducer.js","refsystem/createGlobalRef.js","store.js","refsystem/GlobalRef.js","refsystem/useGlobalRef.js","component/SelectCategoriesDialog.js","refsystem/StateRef.js","refsystem/useStateRef.js","component/InlineInput.js","screens/Main.js","component/Profile/NotEditing.js","component/Profile/Editing.js","component/BackButton.js","component/Profile/index.js","screens/Profile.js","router/Route.js","component/ui/formField.js","screens/Login_page.js","component/ui/mics.js","component/Summary/ChartSummary.js","component/Summary/ChartDetail.js","screens/Summary.js","index.js"],"names":["__webpack_require__","r","__webpack_exports__","_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_0__","_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_1__","library","add","faTshirt","Link","props","dispath","useDispatch","react_default","a","createElement","onClick","type","to","children","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","_ref","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","auth","_React$useState3","_React$useState4","anchorEl","setAnchorEl","open","Boolean","handleClose","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Menu_default","Typography","variant","aria-controls","aria-haspopup","event","currentTarget","AccountCircle_default","Menu_Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","style","marginTop","MainLayout","VBox","assign","merge","width","Children","map","child","i","gapStyle","gap","length","marginBottom","cloneElement","objectSpread","HBox","totalratio","eachGrow","eachBasis","notfluid","push","ratio","console","log","display","flexDirection","alignItems","growStyle","flexBasis","marginLeft","LCRBox","left","center","right","UICard","backgroundColor","padding","Icon","icon","size","bgColor","Fragment","index_es","height","borderRadius","fontSize","Ref","input","parent","_this2","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","query","performNext","get","parent_ref","Array","isArray","target","cloneDeep","toPath","newvalue","set","getCurrent","stage","commit","delete","pop","getfn","setfn","arrayfn","newarray","_len","arguments","x","_key","callreturn","apply","concat","Error","_len2","_key2","perform_array_helper","prototype","pos","splice","newval","_len3","_key3","slice","callback","key","join","is_staging","value","err","error","__chomtana_ref_not_has","isEqual","ExtensibleFunction","f","_this","setPrototypeOf","constructor","Function","RefExtension","_Ref","inherits","RefContainer","_has","musthave","_i","_musthave","ReduxRefExtension","_RefExtension","rootRef","parentRef","targetExtension","toConsumableArray","getTarget","targetExtensionFromRoot","createClass","path","undefined","curr_root_var","message","ReduxRef","curr","dispatch","selector_result","useSelector","state","current_var","commited_var","staging_var","initialState","categories","icon_type","icon_background","text","records","category","note","user","name","saving","goal","achivement","age","gender","email","_route","__chomtana_ref_states","_local_next_id","__chomtana_global_states","appReducer","action","isnew","data","preserve_isnew","newState","newVal","oldrandomval","randomval","Math","random","createGlobalRef","ref","GlobalRef","setTimeout","createStore","reducer","window","__REDUX_DEVTOOLS_EXTENSION__","valueStore","stageStore","primitiveStageCache","primitiveValueCache","JSON","parse","fuck","stringify","store","realpath","useGlobalRef","DialogTitle","withStyles","margin","closeButton","top","palette","grey","disableTypography","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CategoryItem","refs","category_val","_useState","_useState2","confirm","ButtonBase","justifyContent","textAlign","borderBottom","paddingTop","is_choosing","Icon_Icon","e","stopPropagation","SelectCategoriesDialog","Dialog","fullWidth","SelectCategoriesDialog_DialogTitle","SelectCategoriesDialog_DialogContent","dividers","SelectCategoriesDialog_DialogActions","Button","prompt","StateRef","hook","useStateRef","& .MuiInputBase-input","Input","CategoryIcon","null_category","current","Editing","is_editing","alignSelf","InlineInput","onChange","whiteSpace","minWidth","record","reset","Done_default","component_SelectCategoriesDialog","NotEditing","showAction","setShowAction","Collapse","in","Delete_default","Edit_default","onDup","FileCopy_default","onTransfer","ArrowForward_default","RecordItem","force_editing","UICard_TodayRecord","allMap","CallReceived_default","stagePush","Add_default","UICard_Summary_Income","UICard_Summary_Expense","sum","parseInt","UICard_Summary_Remaining","UICard_Summary","Main","choosing_category","percentSaving","show","border","onEditing","setName","_useState3","_useState4","setGoal","_useState5","_useState6","setAge","_useState7","_useState8","setGender","_useState9","_useState10","setEmail","checkNumber","s","test","FormControl","Select","native","transition","onSubmit","onCancle","BackButton","ProfileContent","editing","setEditing","NotEditing_NotEditing","Editing_Editing","Profile","Route","exact","propspath","statepath","split","calculateShow","component","FormField","formdata","change","showError","validation","valid","validationMessage","formTemplate","element","showlabel","config","label","options","item","renderTemplate","Login_page","formError","formSuccess","placeholder","required","password","newFormdata","newElement","validData","trim","validate","setState","preventDefault","submitForm","formField","updateForm","Component","COLORS","RADIAN","PI","ChartSummary","min","innerWidth","sum_bycategory","es6","cx","cy","labelLine","midAngle","outerRadius","innerRadius","percent","radius","index","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","dataKey","paddingAngle","entry","DetailChild","find","category_text","ChartDetail","keys","Summary","totalsum","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","parseFloat","return","passmore","App","es","startApp","rootElement","document","getElementById","ReactDOM","render","require","cordova","addEventListener"],"mappings":"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","file":"static/js/main.2a1dd1bc.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faTshirt)","import React from 'react'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function Link(props) {\r\n  const dispath = useDispatch();\r\n  return <span onClick={()=>{dispath({type: \"$Chomtana.Router.Link\", to: props.to})}}>{props.children}</span>\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Link from './../router/Link';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function NavBar({ children }) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  function handleMenu(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"Menu\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Plannee\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"Account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\"\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}><Link>Profile</Link></MenuItem>\r\n                <MenuItem onClick={handleClose}>My account</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div style={{ marginTop: 5 }}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NavBar from \"../component/NavBar\";\r\n\r\nexport default function MainLayout(props) {\r\n  return (\r\n    <div>\r\n      <NavBar>{props.children}</NavBar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function VBox(props) {\r\n  return (\r\n    <div {...props} style={merge({ width: \"100%\" }, props.style)}>\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginTop = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginBottom = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        //console.log(gapStyle);\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"100%\",\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function HBox(props) {\r\n  //calculate ratio\r\n  var totalratio = 0;\r\n  var eachGrow = [];\r\n  var eachBasis = [];\r\n  React.Children.map(props.children, child => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (props.notfluid) {\r\n        eachGrow.push(0);\r\n      } else {\r\n        if (typeof child.props.ratio === \"number\") {\r\n          totalratio += child.props.ratio;\r\n          eachGrow.push(child.props.ratio);\r\n        } else if (typeof child.props.ratio === \"undefined\") {\r\n          totalratio += 1;\r\n          eachGrow.push(1);\r\n        } else if (typeof child.props.ratio === \"string\") {\r\n          eachGrow.push(0);\r\n        } else {\r\n          console.log(\"Invalid ratio: \", child.props.ratio);\r\n          eachGrow.push(0);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  React.Children.map(props.children, (child, i) => {\r\n    if (!child) return null;\r\n\r\n    if (child.props) {\r\n      if (typeof child.props.ratio === \"string\") {\r\n        eachBasis.push(child.props.ratio);\r\n      } else {\r\n        eachBasis.push((eachGrow[i] / totalratio) * 100 + \"%\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      {...props}\r\n      style={merge(\r\n        {\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\"\r\n        },\r\n        props.style\r\n      )}\r\n    >\r\n      {React.Children.map(props.children, (child, i) => {\r\n        if (!child) return null;\r\n\r\n        var growStyle = {\r\n          flexGrow: eachGrow[i],\r\n          flexBasis: eachBasis[i]\r\n        };\r\n\r\n        var gapStyle = {};\r\n        if (props.gap) {\r\n          if (i !== 0) {\r\n            gapStyle.marginLeft = props.gap / 2;\r\n          }\r\n          if (i !== props.children.length) {\r\n            gapStyle.marginRight = props.gap / 2;\r\n          }\r\n        }\r\n\r\n        return React.cloneElement(child, {\r\n          style: merge(\r\n            {\r\n              width: \"auto\",\r\n              ...growStyle,\r\n              ...gapStyle\r\n            },\r\n            (child.props && child.props.style) || {}\r\n          )\r\n        });\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HBox from \"./HBox\";\r\n\r\nimport { merge } from 'lodash';\r\n\r\nexport default function LCRBox(props) {\r\n  return (\r\n    <HBox style={props.style}>\r\n      {props.left ? React.cloneElement(props.left, { ratio: 0 }) : <div ratio={0} />}\r\n      {props.center ? (\r\n        React.cloneElement(props.center, { ratio: 1 })\r\n      ) : (\r\n        <div ratio={1} />\r\n      )}\r\n      {props.right ? React.cloneElement(props.right, { ratio: 0 }) : <div ratio={0} />}\r\n    </HBox>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport VBox from \"../VBox\";\r\nimport { merge } from \"lodash\";\r\n\r\nexport default function UICard(props) {\r\n  return (\r\n    <VBox style={merge({ backgroundColor: \"white\", padding: 10 }, props.style)}>\r\n      <h2>{props.title}</h2>\r\n      <hr />\r\n      {props.children}\r\n    </VBox>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from '@material-ui/core/Icon'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function Icon({ icon, type, size, color, bgColor }) {\r\n  return (<>\r\n    {(!type || type == \"material\" ? <MaterialIcon style={{ color, width: size + 4, height: size + 4, fontSize: size, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}>{icon}</MaterialIcon>\r\n      : (type == \"fa\" ? <FontAwesomeIcon icon={icon} style={{ color, width: size + 4, height: size + 4, backgroundColor: bgColor, padding: 2, borderRadius: \"20%\" }}></FontAwesomeIcon> : <>/</>)\r\n    )}\r\n  </>)\r\n}","import { cloneDeep, toPath, merge, isEqual } from \"lodash\";\r\n//Credit: https://stackoverflow.com/questions/36871299/how-to-extend-function-with-es6-classes\r\nclass ExtensibleFunction extends Function {\r\n    constructor(f) {\r\n        super();\r\n        return Object.setPrototypeOf(f, new.target.prototype);\r\n    }\r\n}\r\n/*export type PassedRef<Target = any, Value = any> = [Target, typeof Ref, Value];\r\n\r\nexport function isExtendsRef(x: any): Boolean {\r\n  return x === Ref || x.prototype instanceof Ref;\r\n}\r\n\r\n//we cannot check deeper information, it is language limitation\r\nexport function isPassedRef(x: any): x is PassedRef {\r\n  if (!Array.isArray(x)) return false;\r\n  if (x.length != 3) return false;\r\n  if (!isExtendsRef(x[1])) return false;\r\n  return true;\r\n}*/\r\nexport default class Ref extends ExtensibleFunction {\r\n    get value() {\r\n        return this.get();\r\n    }\r\n    set value(newvalue) {\r\n        this.set(newvalue);\r\n    }\r\n    get current() {\r\n        return this.getCurrent();\r\n    }\r\n    set current(newvalue) {\r\n        this.stage(newvalue);\r\n    }\r\n    constructor(input, parent) {\r\n        super((query) => {\r\n            if (typeof query !== \"undefined\") {\r\n                return this.performNext(query);\r\n            }\r\n            else {\r\n                return this.get();\r\n            }\r\n        });\r\n        if (!input)\r\n            input = [];\r\n        this.parent_ref = parent;\r\n        //default is target = input\r\n        //so that we can use constructor to make new ref\r\n        if (Array.isArray(input)) {\r\n            this.target = cloneDeep(input);\r\n        }\r\n        else {\r\n            this.target = toPath(input);\r\n        }\r\n    }\r\n    getTarget() {\r\n        return this.target;\r\n    }\r\n    set(newvalue) {\r\n        this.stage(cloneDeep(newvalue));\r\n        this.commit();\r\n    }\r\n    parent() {\r\n        return this.parent_ref;\r\n    }\r\n    /**\r\n     * Reset current value to last commit\r\n     */\r\n    reset() {\r\n        if (typeof this.get() !== \"undefined\") {\r\n            this.stage(this.get());\r\n        }\r\n        else {\r\n            this.delete();\r\n        }\r\n    }\r\n    makeNotExtension() {\r\n        return this;\r\n    }\r\n    //Helper functions\r\n    delete() {\r\n        const parent = this.parent();\r\n        const parent_val = cloneDeep(parent.get());\r\n        if (typeof parent_val === \"object\") {\r\n            parent.pop(this.target[this.target.length - 1]);\r\n        }\r\n    }\r\n    //Array Helper functions\r\n    perform_array_helper(getfn, setfn, arrayfn, ...x) {\r\n        if (Array.isArray(getfn.call(this))) {\r\n            var newarray = cloneDeep(getfn.call(this));\r\n            var callreturn = arrayfn.call(newarray, ...x);\r\n            setfn.call(this, newarray);\r\n            return callreturn;\r\n        }\r\n        throw new Error(\"Not an array\");\r\n    }\r\n    //Array Helper functions: set\r\n    push(...x) {\r\n        return this.perform_array_helper(this.get, this.set, Array.prototype.push, ...x);\r\n    }\r\n    pop(pos) {\r\n        if (typeof pos === \"undefined\") {\r\n            return this.perform_array_helper(this.get, this.set, Array.prototype.pop);\r\n        }\r\n        else {\r\n            if (Array.isArray(this.get())) {\r\n                //console.log(pos);\r\n                return this.perform_array_helper(this.get, this.set, Array.prototype.splice, pos, 1);\r\n            }\r\n            else {\r\n                var newval = cloneDeep(this.get());\r\n                delete newval[pos];\r\n                this.set(newval);\r\n            }\r\n        }\r\n    }\r\n    //Array Helper functions: stage\r\n    stagePush(...x) {\r\n        return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.push, ...x);\r\n    }\r\n    stagePop(x) {\r\n        if (typeof x === \"undefined\") {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.pop);\r\n        }\r\n        else {\r\n            return this.perform_array_helper(this.getCurrent, this.stage, Array.prototype.slice, x, 1);\r\n        }\r\n    }\r\n    //Array/ Object helper function: loop\r\n    map(callback) {\r\n        const a = cloneDeep(this.get());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    /**\r\n     * Map value that are available in staging but not in commited\r\n     * @param callback (value,key) callback function of map\r\n     */\r\n    stageMap(callback) {\r\n        const a = cloneDeep(this.getCurrent());\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                if (this(key).is_staging()) {\r\n                    a[key] = callback(this(key), key);\r\n                }\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    allMap(callback) {\r\n        const a = cloneDeep(merge(this.get(), this.getCurrent()));\r\n        if (typeof a === \"object\") {\r\n            for (var key in a) {\r\n                a[key] = callback(this(key), key);\r\n            }\r\n            return a;\r\n        }\r\n        else {\r\n            throw new Error(this.target.join(\".\") + \" is not an array/object\");\r\n        }\r\n    }\r\n    childRefs() {\r\n        try {\r\n            return this.map((value, key) => value);\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n            return { __chomtana_ref_not_has: true };\r\n        }\r\n    }\r\n    //General helper function\r\n    has() {\r\n        return typeof this.get() !== \"undefined\";\r\n    }\r\n    is_staging() {\r\n        //console.log(this.get(), this.getCurrent());\r\n        return !isEqual(this.get(), this.getCurrent());\r\n    }\r\n}\r\nexport class RefExtension extends Ref {\r\n}\r\n","import Ref from \"./Ref\";\r\nexport default class RefContainer {\r\n    /**\r\n     * Create new RefContainer, either empty container or extract PassedRef from some object in form {refname: PassedRef,...} (can contains anything more other than Ref, it will only extract parameter that are refs)\r\n     *\r\n     * Often use without *input* argument\r\n     *\r\n     * OR *input* argument = **params**\r\n     *\r\n     * @param input often; **params**; anything that contains {refname: PassedRef,...} (can contains anything more other than Ref, it will only extract parameter that are refs)\r\n     */\r\n    constructor(input) {\r\n        this._has = true;\r\n        if (input) {\r\n            try {\r\n                for (var key in input) {\r\n                    if (input[key] instanceof Ref) {\r\n                        this[key] = input[key];\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.error(\"Cannot build RefContainer: \", err);\r\n            }\r\n            if (input.__chomtana_ref_not_has) {\r\n                this._has = false;\r\n            }\r\n        }\r\n    }\r\n    has(...musthave) {\r\n        for (var key of musthave) {\r\n            if (typeof this[key] === \"undefined\") {\r\n                return false;\r\n            }\r\n        }\r\n        return this._has;\r\n    }\r\n}\r\n","import Ref, { RefExtension } from \"./Ref\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { get, set, cloneDeep } from \"lodash\";\r\nimport useSelectorRef from \"./useSelectorRef\";\r\nexport class ReduxRefExtension extends RefExtension {\r\n    constructor(rootRef, parentRef, targetExtension) {\r\n        super([...parentRef.getTarget(), targetExtension], parentRef);\r\n        this.targetExtension = targetExtension;\r\n        this.rootRef = rootRef;\r\n        this.parentRef = parentRef;\r\n        this.targetExtensionFromRoot = this.getTarget().slice(rootRef.getTarget().length);\r\n    }\r\n    performNext(query) {\r\n        return new ReduxRefExtension(this.rootRef, this, query);\r\n    }\r\n    get() {\r\n        return get(this.parentRef.get(), this.targetExtension);\r\n    }\r\n    getCurrent() {\r\n        return get(this.parentRef.getCurrent(), this.targetExtension);\r\n    }\r\n    stage(newvalue, path = []) {\r\n        var curr_root_var = cloneDeep(this.rootRef.getCurrent());\r\n        set(curr_root_var, this.targetExtensionFromRoot, cloneDeep(newvalue));\r\n        this.rootRef.stage(curr_root_var, [\r\n            ...this.targetExtensionFromRoot,\r\n            ...path\r\n        ]);\r\n    }\r\n    commit(message, path = []) {\r\n        this.rootRef.commit(message, [...this.targetExtensionFromRoot, ...path]);\r\n    }\r\n    makeNotExtension() {\r\n        return new ReduxRef(this.getTarget());\r\n    }\r\n}\r\nexport default class ReduxRef extends Ref {\r\n    constructor(input, parentRef) {\r\n        super(input, parentRef);\r\n        if (!parentRef && this.getTarget().length > 1) {\r\n            var curr = useSelectorRef(this.getTarget()[0]);\r\n            for (var i = 1; i < this.getTarget().length; i++) {\r\n                curr = curr(this.getTarget()[i]);\r\n            }\r\n            return curr;\r\n        }\r\n        this.dispatch = useDispatch();\r\n        this.selector_result = useSelector(state => get(state, this.target));\r\n        //[this.current_var, this.set_current_var] = useState(this.selector_result);\r\n        this.current_var = useSelector(state => get(state, [\"__chomtana_ref_stage\", ...this.target]));\r\n        //console.log(this.current_var);\r\n        if (typeof this.current_var === \"undefined\" &&\r\n            typeof this.selector_result !== \"undefined\") {\r\n            this.stage(this.selector_result);\r\n        }\r\n    }\r\n    performNext(query) {\r\n        return new ReduxRefExtension(this, this, query);\r\n    }\r\n    get() {\r\n        if (typeof this.commited_var === \"undefined\") {\r\n            return this.selector_result;\r\n        }\r\n        else {\r\n            return this.commited_var;\r\n        }\r\n    }\r\n    getCurrent() {\r\n        if (typeof this.staging_var === \"undefined\") {\r\n            return this.current_var;\r\n        }\r\n        else {\r\n            return this.staging_var;\r\n        }\r\n    }\r\n    stage(newvalue, path = []) {\r\n        this.dispatch({\r\n            type: \"$Chomtana.RefStage\",\r\n            path: [...this.target, ...path],\r\n            value: path.length > 0 ? get(newvalue, path) : newvalue\r\n        });\r\n        this.staging_var = newvalue;\r\n    }\r\n    commit(message, path = []) {\r\n        /*console.log(\r\n          this.target + (path ? \".\" + path : \"\"),\r\n          path ? get(this.getCurrent(), path) : this.getCurrent()\r\n        );*/\r\n        this.dispatch({\r\n            type: \"$Chomtana.RefCommit\",\r\n            path: [...this.target, ...path],\r\n            value: path.length > 0 ? get(this.getCurrent(), path) : this.getCurrent(),\r\n            message: message\r\n        });\r\n        this.commited_var = this.getCurrent();\r\n    }\r\n}\r\n","import ReduxRef from \"./ReduxRef\";\r\nexport default function useSelectorRef(path) {\r\n    return new ReduxRef(path);\r\n}\r\n","import { set, get, cloneDeep } from 'lodash'\r\n\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport MusicVideoIcon from '@material-ui/icons/MusicVideo';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react';\r\n\r\n// The initial state of the App\r\nexport const initialState = {\r\n  categories: [\r\n    {\r\n      icon: \"fastfood\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#ffaa00\",\r\n      text: \"อาหาร และ เครื่องดื่ม\"\r\n    },\r\n    {\r\n      icon: \"flight\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#007AFF\",\r\n      text: \"การเดินทาง\"\r\n    },\r\n    {\r\n      icon: \"tshirt\",\r\n      icon_type: \"fa\",\r\n      icon_background: \"#ff00a5\",\r\n      text: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n    },\r\n    {\r\n      icon: \"shopping_basket\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#b600ff\",\r\n      text: \"ข้าวของเครื่องใช้ในชีวิตประจำวัน\"\r\n    },\r\n    {\r\n      icon: \"music_video\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#26a500\",\r\n      text: \"ความบันเทิง\"\r\n    },\r\n    {\r\n      icon: \"help_outline\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#414042\",\r\n      text: \"อื่นๆ\"\r\n    }\r\n  ],\r\n  records: [\r\n    {\r\n      category: {\r\n        icon: \"fastfood\",\r\n        icon_type: \"material\",\r\n        icon_background: \"#ffaa00\",\r\n        text: \"อาหาร และ เครื่องดื่ม\"\r\n      },\r\n      note: \"กินข้าว ICanteen\",\r\n      value: 40\r\n    }\r\n  ],\r\n  user: {\r\n    name: 'Pichet',\r\n    saving: 500,\r\n    goal: 10000,\r\n    achivement: ['Saving 500', 'Saving 1000'],\r\n    age: 30,\r\n    gender: 'Male',\r\n    email: '1234@gmail.com'\r\n  },\r\n\r\n  _route: {\r\n    path: [\"login\"]\r\n  },\r\n\r\n  __chomtana_ref_states: {\r\n    _local_next_id: 1\r\n  },\r\n  __chomtana_global_states: {}\r\n};\r\n\r\nfunction appReducer(state = initialState, action) {\r\n  console.log(\"reducer\", state)\r\n  switch (action.type) {\r\n    case \"add_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.push({\r\n        category: \"\",\r\n        note: \"\",\r\n        value: null,\r\n        isnew: true\r\n      });\r\n\r\n      return { ...state, records };\r\n    }\r\n    case \"change_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records[action.i] = action.data;\r\n      if (!action.preserve_isnew) {\r\n        records[action.i].isnew = false;\r\n      }\r\n\r\n      return { ...state, records };\r\n    }\r\n    case \"delete_record\": {\r\n      var records = cloneDeep(state.records);\r\n      records.splice(action.i)\r\n\r\n      return { ...state, records };\r\n    }\r\n\r\n    case \"change_user\": {\r\n      var user = cloneDeep(state.user)\r\n      user = action.data\r\n      return { ...state, user }\r\n    }\r\n\r\n    case \"$Chomtana.RefCommit\": {\r\n      let newState = cloneDeep(state);\r\n      let newVal = cloneDeep(action.value);\r\n      set(newState, action.path, newVal);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.RefStage\": {\r\n      console.log(\"startStage\", state);\r\n      let newState = cloneDeep(state);\r\n      let newVal = cloneDeep(action.value);\r\n      //console.log(newState, newVal);\r\n      set(newState, [\"__chomtana_ref_stage\", ...action.path], newVal);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.NewStateRef\": {\r\n      let newState = cloneDeep(state);\r\n      newState.__chomtana_ref_states[\r\n        \"local_\" + newState.__chomtana_ref_states._local_next_id++\r\n      ] = action.value;\r\n      //console.log(\"dispatched\", newState);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.UpdateGlobalState\": {\r\n      let newState = cloneDeep(state);\r\n      let oldrandomval = get(newState.__chomtana_global_states, action.path);\r\n      let randomval = Math.random();\r\n      while (randomval === oldrandomval) randomval = Math.random();\r\n      set(newState.__chomtana_global_states, action.path, randomval);\r\n      //console.log(\"gbnew\", newState);\r\n      return newState;\r\n    }\r\n    case \"$Chomtana.Router.Link\": {\r\n      let newState = cloneDeep(state);\r\n      newState._route.path = cloneDeep(action.to);\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","import GlobalRef from \"./GlobalRef\";\r\nexport default function createGlobalRef(path, value) {\r\n    var ref = new GlobalRef(path);\r\n    if (typeof value !== \"undefined\") {\r\n        ref.set(value);\r\n    }\r\n    return ref;\r\n}\r\n","import { createStore } from \"redux\";\r\nimport reducer from './reducer'\r\nimport createGlobalRef from './refsystem/createGlobalRef';\r\n\r\nsetTimeout(()=>{\r\n  createGlobalRef(\"records\",[\r\n    {\r\n      category: {\r\n        icon: \"fastfood\",\r\n        icon_type: \"material\",\r\n        icon_background: \"#ffaa00\",\r\n        text: \"อาหาร และ เครื่องดื่ม\"\r\n      },\r\n      note: \"กินข้าว ICanteen\",\r\n      value: 40\r\n    }\r\n  ])\r\n\r\n  createGlobalRef(\"categories\",[\r\n    {\r\n      icon: \"fastfood\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#ffaa00\",\r\n      text: \"อาหาร และ เครื่องดื่ม\"\r\n    },\r\n    {\r\n      icon: \"flight\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#007AFF\",\r\n      text: \"การเดินทาง\"\r\n    },\r\n    {\r\n      icon: \"tshirt\",\r\n      icon_type: \"fa\",\r\n      icon_background: \"#ff00a5\",\r\n      text: \"เครื่องแต่งกาย และ เครื่องประดับ\"\r\n    },\r\n    {\r\n      icon: \"shopping_basket\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#b600ff\",\r\n      text: \"ข้าวของเครื่องใช้ในชีวิตประจำวัน\"\r\n    },\r\n    {\r\n      icon: \"music_video\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#26a500\",\r\n      text: \"ความบันเทิง\"\r\n    },\r\n    {\r\n      icon: \"help_outline\",\r\n      icon_type: \"material\",\r\n      icon_background: \"#414042\",\r\n      text: \"อื่นๆ\"\r\n    }\r\n  ]);\r\n},1);\r\n\r\nexport default createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());","import Ref from \"./Ref\";\r\nimport { get, set, cloneDeep } from \"lodash\";\r\nimport store from \"../store\";\r\nvar valueStore = \"{}\";\r\nvar stageStore = \"{}\";\r\nvar valueStoreCache = {};\r\nvar stageStoreCache = {};\r\nvar primitiveStageCache = {};\r\nvar primitiveValueCache = {};\r\nexport default class GlobalRef extends Ref {\r\n    constructor(input, parentRef) {\r\n        super(input, parentRef);\r\n        if (!parentRef && this.getTarget().length > 1) {\r\n            //console.log(this.getTarget())\r\n            var curr = new GlobalRef(this.getTarget()[0]);\r\n            for (var i = 1; i < this.getTarget().length; i++) {\r\n                curr = curr(this.getTarget()[i], curr);\r\n            }\r\n            return curr;\r\n        }\r\n    }\r\n    performNext(query) {\r\n        return new GlobalRef([...this.target, query], this);\r\n    }\r\n    get() {\r\n        return get(JSON.parse(valueStore), this.target);\r\n    }\r\n    getCurrent() {\r\n        return get(JSON.parse(stageStore), this.target);\r\n    }\r\n    stage(newvalue, path) {\r\n        let fuck = JSON.parse(stageStore);\r\n        set(fuck, [...this.target, ...(path || [])], cloneDeep(newvalue));\r\n        stageStore = JSON.stringify(fuck);\r\n        stageStoreCache = JSON.parse(stageStore);\r\n        if (typeof newvalue !== \"object\") {\r\n            primitiveStageCache[this.getTarget()] = newvalue;\r\n        }\r\n        else {\r\n            delete primitiveStageCache[this.getTarget()];\r\n        }\r\n        /*console.log(stageStore, valueStore);\r\n        try {\r\n          console.log(valueStoreCache.z[1].a);\r\n        } catch (err) {}*/\r\n        store.dispatch({ type: \"$Chomtana.UpdateGlobalState\", path: this.target });\r\n    }\r\n    commit(message, path) {\r\n        let fuck = JSON.parse(valueStore);\r\n        let realpath = [...this.target, ...(path || [])];\r\n        let newvalue = get(JSON.parse(stageStore), realpath);\r\n        set(fuck, realpath, newvalue);\r\n        valueStore = JSON.stringify(fuck);\r\n        valueStoreCache = JSON.parse(valueStore);\r\n        if (typeof newvalue !== \"object\") {\r\n            primitiveValueCache[this.getTarget()] = newvalue;\r\n        }\r\n        else {\r\n            delete primitiveValueCache[this.getTarget()];\r\n        }\r\n        store.dispatch({ type: \"$Chomtana.UpdateGlobalState\", path: this.target });\r\n    }\r\n}\r\n","import GlobalRef from \"./GlobalRef\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { get } from \"lodash\";\r\nexport default function useGlobalRef(path) {\r\n    var updater = useSelector((state) => get(state.__chomtana_global_states, path));\r\n    //console.log(updater);\r\n    return new GlobalRef(path);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useSelector } from 'react-redux';\r\nimport VBox from './VBox';\r\nimport HBox from './HBox';\r\nimport LCRBox from './LCRBox';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport Icon from './Icon';\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useSelectorRef from '../refsystem/useSelectorRef';\r\nimport useGlobalRef from '../refsystem/useGlobalRef';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  \r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"Close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction CategoryItem(props) {\r\n  const refs = new RefContainer(props);\r\n  const category = refs.category_val();\r\n\r\n  const [isEditing,setIsEditing] = useState(false);\r\n\r\n  const confirm = window.confirm;\r\n\r\n  return (\r\n    <ButtonBase style={{justifyContent:\"left\", textAlign:\"left\", borderBottom: \"solid 1px rgb(204, 204, 204)\", paddingTop: 5, width: \"100%\"}} onClick={()=>{refs.category.stage(category); refs.is_choosing.set(null);}}>\r\n      <LCRBox\r\n        left={\r\n          <div style={{marginRight:5}}><Icon icon={category.icon} type={category.icon_type} color=\"white\" bgColor={category.icon_background} size={24} /></div>\r\n        }\r\n        center={\r\n          <div>{category.text}</div>\r\n        }\r\n        right={\r\n          <HBox notfluid>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"edit\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n            <div>\r\n              <ButtonBase onClick={(e)=>{\r\n                if (confirm(\"คุณต้องการลบหมวดหมู่นี้จริงหรือไม่\")) {\r\n                  refs.category_val.delete();\r\n                }\r\n                e.stopPropagation();\r\n              }}>\r\n                <Icon icon=\"delete\" color=\"#ccc\" size={18}></Icon>\r\n              </ButtonBase>\r\n            </div>\r\n          </HBox>\r\n        }\r\n        \r\n      ></LCRBox>\r\n    </ButtonBase>\r\n  )\r\n\r\n}\r\n\r\nfunction SelectCategoriesDialog(props) {\r\n  const categories = useSelector(state => state.categories);\r\n  const refs = new RefContainer(props);\r\n  refs.categories = useGlobalRef(\"categories\");\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        onClose={props.onClose}\r\n        open={props.open}\r\n        fullWidth={true}\r\n      >\r\n        <DialogTitle onClose={props.onClose}>\r\n          เลือกหมวดหมู่\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <VBox>\r\n            {refs.categories.map(category=>\r\n              <CategoryItem {...refs} category_val={category}></CategoryItem>\r\n            )}\r\n          </VBox>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{\r\n              var text = prompt(\"กรุณาใส่ชื่อของหมวดหมู่\")\r\n              if (text) {\r\n                refs.categories.push({      \r\n                  icon: \"help_outline\",\r\n                  icon_type: \"material\",\r\n                  icon_background: \"#414042\",\r\n                  text: text\r\n                })\r\n              }\r\n            }} \r\n            color=\"primary\"\r\n          >\r\n            เพิ่มหมวดหมู่\r\n          </Button>\r\n          <Button onClick={()=>refs.is_choosing.set(false)} color=\"secondary\">\r\n            ยกเลิก\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectCategoriesDialog;\r\n","import ReduxRef from \"./ReduxRef\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useState } from \"react\";\r\nexport default class StateRef extends ReduxRef {\r\n    constructor(value) {\r\n        /*const __chomtana_ref_states = useSelector(\r\n          (state: any) => state.__chomtana_ref_states\r\n        );*/\r\n        const dispatch = useDispatch();\r\n        const idselector = useSelector((state) => state.__chomtana_ref_states._local_next_id);\r\n        var id = idselector;\r\n        const [hook, setHook] = useState(id);\r\n        if (hook === id) {\r\n            dispatch({ type: \"$Chomtana.NewStateRef\", value: value });\r\n        }\r\n        else {\r\n            id = hook;\r\n        }\r\n        super([\"__chomtana_ref_states\", \"local_\" + id]);\r\n    }\r\n}\r\n","import StateRef from \"./StateRef\";\r\nexport default function useStateRef(value) {\r\n    return new StateRef(value);\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Input } from \"@material-ui/core\";\r\nimport { merge } from \"lodash\";\r\n\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default withStyles({\r\n  root: {\r\n    \"& .MuiInputBase-input\": {\r\n      padding: \"2px 0 2px\"\r\n    }\r\n  }\r\n})(Input);\r\n","import React, { useState } from \"react\";\r\n\r\nimport VBox from \"../component/VBox\";\r\nimport HBox from \"../component/HBox\";\r\nimport LCRBox from \"../component/LCRBox\";\r\nimport UICard from \"../component/UICard\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { Button, ButtonBase, Collapse, Input } from \"@material-ui/core\";\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport ReceiveIcon from '@material-ui/icons/CallReceived'\r\nimport SelectCategoriesDialog from \"../component/SelectCategoriesDialog\";\r\n\r\nimport { cloneDeep, merge } from 'lodash';\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useSelectorRef from \"../refsystem/useSelectorRef\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport useStateRef from './../refsystem/useStateRef';\r\n\r\nimport OKIcon from \"@material-ui/icons/Done\";\r\nimport CancelIcon from \"@material-ui/icons/Close\";\r\nimport InlineInput from \"../component/InlineInput\";\r\nimport Icon from \"../component/Icon\";\r\nimport createGlobalRef from './../refsystem/createGlobalRef';\r\nimport useGlobalRef from './../refsystem/useGlobalRef';\r\nimport Link from './../router/Link';\r\n\r\nfunction CategoryIcon(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  const null_category = {\r\n    icon: \"help_outline\",\r\n    icon_type: \"material\",\r\n    icon_background: \"#414042\",\r\n    text: \"อื่นๆ\"\r\n  }\r\n\r\n  const category = refs.category.current;\r\n\r\n  return (<>\r\n    {category ?\r\n      <Icon icon={category.icon} type={category.icon_type} color=\"white\" bgColor={category.icon_background} size={24} />\r\n      :\r\n      <Icon icon={null_category.icon} type={null_category.icon_type} color=\"white\" bgColor={null_category.icon_background} size={24} />\r\n    }\r\n  </>)\r\n}\r\n\r\nfunction Editing(props) {\r\n  const refs = new RefContainer(props);\r\n  refs.is_choosing = useStateRef(false);\r\n\r\n  return (<>\r\n    {refs.is_editing() &&\r\n      <VBox {...props}>\r\n        <LCRBox\r\n          left={\r\n            <div style={{ marginRight: 5, alignSelf: \"top\" }}>\r\n              <CategoryIcon {...refs}></CategoryIcon>\r\n            </div>\r\n          }\r\n\r\n          center={\r\n            <VBox>\r\n              <ButtonBase style={{ justifyContent: \"left\", color: \"royalblue\" }} onClick={()=>refs.is_choosing.set(true)}>{refs.category(\"text\").current || \"เลือกหมวดหมู่\"}</ButtonBase>\r\n              <InlineInput value={refs.note.current} onChange={(event) => refs.note.stage(event.target.value)}></InlineInput>\r\n            </VBox>\r\n          }\r\n\r\n          right={\r\n            <div style={{ alignSelf: \"flex-start\", whiteSpace: \"nowrap\", marginLeft: 5 }}>\r\n              <HBox>\r\n                <InlineInput value={refs.value.current} onChange={(event) => refs.value.stage(event.target.value)} style={{ minWidth: 60 }}></InlineInput>\r\n                <div>บาท</div>\r\n              </HBox>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <HBox style={{ marginBottom: 5 }}>\r\n          <center>\r\n            <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => {\r\n              refs.record.reset();\r\n              refs.is_editing.set(false);\r\n            }}>\r\n              <CancelIcon />\r\n              &nbsp;ยกเลิก\r\n          </Button>\r\n          </center>\r\n          <center>\r\n            <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => { refs.record(\"isnew\").set(false); refs.record.commit(); refs.is_editing.set(false); }}>\r\n              <OKIcon />\r\n              &nbsp;ตกลง\r\n          </Button>\r\n          </center>\r\n        </HBox>\r\n\r\n        <SelectCategoriesDialog\r\n          open={refs.is_choosing()}\r\n          {...refs}\r\n        ></SelectCategoriesDialog>\r\n      </VBox>\r\n    }</>)\r\n}\r\n\r\nfunction NotEditing(props) {\r\n  const refs = new RefContainer(props);\r\n  const [showAction, setShowAction] = useState(false);\r\n\r\n  const category = refs.category();\r\n\r\n  return (<>\r\n    {!refs.is_editing() &&\r\n      <VBox {...props}>\r\n        <ButtonBase\r\n          style={{ textAlign: \"left\" }}\r\n          onClick={() => setShowAction(!showAction)}\r\n        >\r\n          <LCRBox\r\n            left={\r\n              <div style={{ marginRight: 5, alignSelf: \"top\" }}>\r\n                <CategoryIcon {...refs}></CategoryIcon>\r\n              </div>\r\n            }\r\n\r\n            center={\r\n              <VBox>\r\n                <div>{refs.category(\"text\")()}</div>\r\n                <div>{refs.note()}</div>\r\n              </VBox>\r\n            }\r\n\r\n            right={\r\n              <div style={{ alignSelf: \"flex-start\", whiteSpace: \"nowrap\", marginLeft: 5 }}>\r\n                {refs.value()} บาท\r\n            </div>\r\n            }\r\n          />\r\n        </ButtonBase>\r\n\r\n        <Collapse in={showAction}>\r\n          <HBox style={{ marginBottom: 5 }}>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => refs.record.delete()}>\r\n                <DeleteIcon />\r\n                &nbsp;ลบ\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => { refs.is_editing.set(true); setShowAction(false) }}>\r\n                <EditIcon />\r\n                &nbsp;แก้ไข\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"mediumorchid\" }} onClick={props.onDup}>\r\n                <FileCopyIcon />\r\n                &nbsp;ทำซ้ำ\r\n          </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkorange\" }} onClick={props.onTransfer}>\r\n                <ArrowForwardIcon />\r\n                &nbsp;ย้าย\r\n          </Button>\r\n            </center>\r\n          </HBox>\r\n        </Collapse>\r\n      </VBox>\r\n    }</>)\r\n}\r\n\r\nfunction RecordItem(props) {\r\n  const refs = new RefContainer(props);\r\n  refs.is_editing = useStateRef(props.force_editing || false);\r\n\r\n  return (<>\r\n    <NotEditing {...refs} {...props}></NotEditing>\r\n    <Editing {...refs} {...props}></Editing>\r\n  </>)\r\n}\r\n\r\nfunction UICard_TodayRecord(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <UICard\r\n      title={\r\n        <>\r\n          วันนี้&nbsp;\r\n        <span style={{ fontSize: \"12pt\" }}>19 มิถุนายน 2562</span>\r\n        </>\r\n      }\r\n      {...props}\r\n    >\r\n      {refs.records().length > 0 ?\r\n        refs.records.allMap((record, i) => {\r\n          return <RecordItem\r\n            {...refs}\r\n            record={record}\r\n            category={record(\"category\")}\r\n            note={record(\"note\")}\r\n            value={record(\"value\")}\r\n            style={{ marginBottom: 5 }}\r\n            force_editing={record.is_staging()}\r\n            key={i}\r\n          />\r\n        })\r\n        : <center>--- ไม่มีรายการ ---</center>\r\n      }\r\n\r\n      <hr />\r\n\r\n      <HBox>\r\n        <center>\r\n          <Button size=\"medium\" style={{ color: \"darkred\" }} onClick={() => {\r\n\r\n          }}>\r\n            <ReceiveIcon />\r\n            &nbsp;รับเงินเข้า\r\n        </Button>\r\n        </center>\r\n        <center>\r\n          <Button size=\"medium\" style={{ color: \"darkblue\" }} onClick={() => {\r\n            refs.records.stagePush({ category: null, note: \"\", value: null, isnew: true })\r\n          }}>\r\n            <AddIcon />\r\n            &nbsp;เพิ่มรายการ\r\n        </Button>\r\n        </center>\r\n      </HBox>\r\n    </UICard>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Income(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>รายรับ</div>\r\n      <div style={{ textAlign: \"right\", color: \"green\" }}>1000 บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Expense(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  var records = refs.records();\r\n  var sum = 0;\r\n  records.map(record => sum += parseInt(record.value));\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>รายจ่าย</div>\r\n      <div style={{ textAlign: \"right\", color: \"darkred\" }}>{sum} บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary_Remaining(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  var records = refs.records();\r\n  var sum = 0;\r\n  records.map(record => sum += parseInt(record.value));\r\n  sum = 1000 - sum;\r\n\r\n  return (\r\n    <HBox {...props}>\r\n      <div>คงเหลือ</div>\r\n      <div style={{ textAlign: \"right\", color: \"green\" }}>{sum} บาท</div>\r\n    </HBox>\r\n  )\r\n}\r\n\r\nfunction UICard_Summary(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <UICard title=\"สรุปบัญชีรายรับรายจ่าย\" {...props}>\r\n      <VBox>\r\n        <UICard_Summary_Income {...refs}></UICard_Summary_Income>\r\n        <UICard_Summary_Expense {...refs}></UICard_Summary_Expense>\r\n        <UICard_Summary_Remaining {...refs}></UICard_Summary_Remaining>\r\n      </VBox>\r\n      <VBox>\r\n        <Link to={[\"summary\"]}><Button style={{width:\"100%\", marginTop: 5}} variant=\"contained\" color=\"primary\">ดูสรุปอย่างละเอียด</Button></Link>\r\n      </VBox>\r\n    </UICard>\r\n  )\r\n}\r\n\r\n\r\nexport default function Main() {\r\n  const dispatch = useDispatch();\r\n\r\n  const refs = new RefContainer();\r\n  //refs.records = useSelectorRef(\"records\");\r\n  refs.records = useGlobalRef(\"records\");\r\n  refs.choosing_category = useStateRef(null);\r\n\r\n  console.log(refs.choosing_category())\r\n\r\n  return (\r\n    <div>\r\n      <VBox gap={20}>\r\n        <UICard_Summary {...refs}></UICard_Summary>\r\n        <UICard_TodayRecord {...refs}></UICard_TodayRecord>\r\n      </VBox>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input, Fade } from \"@material-ui/core\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function NotEditing(props) {\r\n\r\n  const user = useSelector(state => state.user)\r\n\r\n  const percentSaving = (user.saving / user.goal) * 100\r\n  function savingBar() {\r\n    return <hr style={{ width: 50 }}></hr>\r\n  }\r\n  return (\r\n    <>\r\n      {(props.show) &&\r\n        <VBox gap={100} style={{ backgroundColor: 'white' }}>\r\n          <center>\r\n            <h1 style={{ fontSize: '50px' }}>Hello {user.name}</h1>\r\n          </center>\r\n          <HBox>\r\n            <h1>Name: {user.name}</h1>\r\n            <h1>Age: {user.age}</h1>\r\n          </HBox>\r\n          <HBox>\r\n            <h1>Gender: {user.gender}</h1>\r\n            <h1>Email: {user.email}</h1>\r\n          </HBox>\r\n          <HBox>\r\n            <div><h1>Achivement: </h1>{\r\n              user.achivement.map((data, i) => <h1>{data}</h1>)\r\n            }</div>\r\n          </HBox>\r\n          <HBox>\r\n            <h1 style={{ flexBasis: null }}>Saving: {user.saving}/ Goal: {user.goal}</h1>\r\n          </HBox>\r\n          <div style={{\r\n            border: '1px solid gray',\r\n            height: '50px'\r\n          }}>\r\n            <div style={{\r\n              width: `${(percentSaving > 100) ? 100 : percentSaving}%`,\r\n              backgroundColor: 'green',\r\n              height: '100%'\r\n            }}>\r\n            </div>\r\n          </div>\r\n          <HBox>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={props.onEditing}>\r\n                Config\r\n              </Button>\r\n            </center>\r\n          </HBox>\r\n        </VBox>\r\n      }\r\n    </>\r\n  )\r\n} \r\n","import React, { useState } from \"react\";\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\nimport InlineInput from '../InlineInput'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input, Fade } from \"@material-ui/core\";\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FilledInput from '@material-ui/core/FilledInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { cloneDeep } from 'lodash'\r\n\r\nexport default function Editing(props) {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.user)\r\n\r\n  const [name, setName] = useState(user.name)\r\n  const saving = user.saving\r\n  const [goal, setGoal] = useState(user.goal)\r\n  const achivement = user.achivement\r\n  const [age, setAge] = useState(user.age)\r\n  const [gender, setGender] = useState(user.gender)\r\n  const [email, setEmail] = useState(user.email)\r\n  function checkNumber(s) {\r\n    return /([0-9])$/.test(s) || s === \"\"\r\n  }\r\n\r\n  const percentSaving = (saving / goal) * 100\r\n\r\n  return (\r\n    <>\r\n      {(props.show) &&\r\n        <VBox gap={100} style={{ backgroundColor: 'white' }}>\r\n          <center>\r\n            <h1 style={{ fontSize: '50px' }}>Editting</h1>\r\n          </center>\r\n          <HBox>\r\n            <h1>Name: <InlineInput value={name} onChange={(e) => setName(e.target.value)} /></h1>\r\n            <h1>Age: <InlineInput value={age} onChange={(e) => {\r\n              // console.log(e.target.value)\r\n              if (checkNumber(e.target.value)) {\r\n                setAge(e.target.value)\r\n              }\r\n            }\r\n            } />\r\n            </h1>\r\n          </HBox>\r\n          <HBox>\r\n            <h1>Gender:\r\n            <FormControl variant=\"outlined\">\r\n                <Select\r\n                  native\r\n                  value={gender}\r\n                  onChange={(e) => { setGender(e.target.value) }}\r\n                >\r\n                  <option value={'Male'}>Male</option>\r\n                  <option value={'Female'}>Female</option>\r\n                  <option value={'Other'}>Other</option>\r\n                </Select>\r\n              </FormControl>\r\n            </h1>\r\n            <h1>Email: <InlineInput value={email} onChange={(e) => setEmail(e.target.value)} /></h1>\r\n          </HBox>\r\n          <HBox>\r\n            <div><h1>Achivement: </h1>{\r\n              user.achivement.map((data, i) => <h1>{data}</h1>)\r\n            }</div>\r\n          </HBox>\r\n          <HBox>\r\n            <h1 style={{ flexBasis: null }}>Saving: {user.saving}/Goal : <InlineInput value={goal} onChange={(e) => {\r\n              if (checkNumber(e.target.value)) {\r\n                setGoal(e.target.value)\r\n              }\r\n            }} /></h1>\r\n          </HBox>\r\n          <div style={{\r\n            border: '1px solid gray',\r\n            height: '50px'\r\n          }}>\r\n            <div style={{\r\n              width: `${(percentSaving > 100) ? 100 : percentSaving}%`,\r\n              backgroundColor: 'green',\r\n              height: '100%',\r\n              transition: '0.5s'\r\n            }}>\r\n            </div>\r\n          </div>\r\n          <HBox>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={() => {\r\n                  var newUser = {\r\n                    name, saving, goal, achivement, age, gender, email\r\n                  }\r\n                  dispatch({ type: 'change_user', data: newUser })\r\n                  props.onSubmit(user)\r\n                }}>\r\n                Submit\r\n              </Button>\r\n            </center>\r\n            <center>\r\n              <Button size=\"medium\" style={{ color: \"darkred\" }}\r\n                onClick={props.onCancle}>\r\n                Cancle\r\n              </Button>\r\n            </center>\r\n          </HBox>\r\n        </VBox>\r\n      }\r\n    </>\r\n  )\r\n} ","import React from 'react'\r\nimport { Button } from '@material-ui/core';\r\nimport Link from './../router/Link';\r\n\r\nexport default function BackButton(props) {\r\n  return (\r\n    <Link to={[]}><Button>Back</Button></Link>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport LCRBox from \"../LCRBox\";\r\nimport VBox from \"../VBox\";\r\nimport HBox from \"../HBox\";\r\n\r\nimport FastfoodIcon from \"@material-ui/icons/Fastfood\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport { Collapse, Input } from \"@material-ui/core\";\r\n\r\nimport { merge } from \"lodash\";\r\nimport InlineInput from \"../InlineInput\";\r\nimport NotEditing from \"./NotEditing\";\r\nimport Editing from \"./Editing\";\r\nimport { useDispatch } from 'react-redux';\r\nimport BackButton from \"../BackButton\";\r\n\r\nexport default function ProfileContent(props) {\r\n  const [editing, setEditing] = useState(false);\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <VBox {...props}>\r\n      <BackButton></BackButton>\r\n      <NotEditing\r\n        {...props}\r\n        show={!editing}\r\n        onEditing={() => setEditing(true)}\r\n      />\r\n      <Editing\r\n        show={editing}\r\n        onSubmit={() => {\r\n\r\n          setEditing(false)\r\n        }}\r\n        onCancle={() => setEditing(false)}\r\n      />\r\n    </VBox>\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport ProfileContent from '../component/Profile'\r\nexport default function Profile(props) {\r\n  return (\r\n    <div>\r\n      <ProfileContent {...props}></ProfileContent>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { isEqual } from 'lodash';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n\r\nexport default function Route(props) {\r\n  const state = useSelector(state=>state._route);\r\n\r\n  function calculateShow() {\r\n    if (props.exact) {\r\n      return isEqual(state.path,props.path);\r\n    } else {\r\n      var propspath = props.path;\r\n      var statepath = state.path;\r\n      if (typeof propspath == \"string\") propspath = propspath.split(\"/\");\r\n      if (typeof statepath == \"string\") statepath = statepath.split(\"/\");\r\n      if (propspath.length < statepath.length) {\r\n        statepath.slice(0,propspath.length);\r\n        return isEqual(statepath,propspath);\r\n      } else return false;\r\n    }\r\n  }\r\n\r\n  const show = calculateShow()\r\n  console.log(show)\r\n\r\n  return show ? <props.component /> : <></>\r\n\r\n}","import React from 'react';\n\nconst FormField = ({formdata,id,change}) => {\n\n    const showError = () => {\n        let errorMessage = <div className=\"error_label\">\n                {\n                    formdata.validation && !formdata.valid ?\n                        formdata.validationMessage\n                    :null\n                }\n        </div>\n        return errorMessage\n    }\n\n\n\n    const renderTemplate = () => {\n        let formTemplate = null;\n\n        switch(formdata.element){\n            case('input'):\n                formTemplate = (\n                    <div>\n                        { formdata.showlabel ?\n                            <div className=\"label_inputs\">\n                                {formdata.config.label}\n                            </div>\n                            :null\n                        }\n                        <input\n                            {...formdata.config}\n                            value={formdata.value}\n                            onChange={(event)=> change({event,id})}\n                        />\n                        { showError() }\n                    </div>\n                )\n            break;\n            case('select'):\n                formTemplate = (\n                    <div>\n                        { formdata.showlabel ?\n                            <div className=\"label_inputs\">\n                                {formdata.config.label}\n                            </div>\n                            :null\n                        }\n                        <select\n                            value={formdata.value}\n                            onChange={(event)=> change({event,id})}\n                        >\n                            <option value=\"\">Select one</option>\n                            {\n                                formdata.config.options.map((item)=>(\n                                   <option key={item.key} value={item.key}>\n                                        {item.value}\n                                   </option> \n                                ))\n                            }\n                        </select>\n                        { showError() }\n                    </div>\n                )\n            break;\n            default:\n                formTemplate = null;\n\n        }\n        return formTemplate;\n    }\n\n    return (\n        <div>\n            {renderTemplate()}\n        </div>\n    )\n}\n\nexport default FormField;","import React, { Component } from 'react';\r\n//import { Container, Divider } from 'semantic-ui-react'\r\nimport FormField from '../component/ui/formField';\r\nimport { validate } from '../component/ui/mics';\r\nimport Link from './../router/Link';\r\nclass Login_page extends Component {\r\n\r\n    state = {\r\n        formError: false,\r\n        formSuccess: '',\r\n        formdata: {\r\n            email: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'email_input',\r\n                    type: 'email',\r\n                    placeholder: 'Enter your email'\r\n                },\r\n                validation: {\r\n                    required: true,\r\n                    email: true\r\n                },\r\n                valid: false,\r\n                validationMessage: ''\r\n            },\r\n            password: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'password_input',\r\n                    type: 'password',\r\n                    placeholder: 'Enter your password'\r\n                },\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                validationMessage: ''\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    updateForm(element) {\r\n        const newFormdata = { ...this.state.formdata }\r\n        const newElement = { ...newFormdata[element.id] }\r\n\r\n        newElement.value = element.event.target.value;\r\n\r\n        let validData = validate(newElement)\r\n        newElement.valid = validData[0];\r\n        newElement.validationMessage = validData[1]\r\n\r\n        newFormdata[element.id] = newElement;\r\n\r\n        this.setState({\r\n            formError: false,\r\n            formdata: newFormdata\r\n        })\r\n    }\r\n\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        //do sth if email and pass is valid\r\n        // may be I will use firbase for db naja\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"signin_wrapper\" style={{ margin: '100px' }}>\r\n\r\n                    <form onSubmit={(event) => this.submitForm(event)}>\r\n\r\n                        <h2>Please Login</h2>\r\n\r\n                        <FormField\r\n                            id={'email'}\r\n                            formdata={this.state.formdata.email}\r\n                            change={(element) => this.updateForm(element)}\r\n                        />\r\n\r\n                        <FormField\r\n                            id={'password'}\r\n                            formdata={this.state.formdata.password}\r\n                            change={(element) => this.updateForm(element)}\r\n                        />\r\n                        {this.state.formError ?\r\n                            <div className=\"error_label\">Something is wrong, try again.</div>\r\n                            : null\r\n                        }\r\n                        <Link to={[]}><button>Log in</button></Link>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Login_page;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Tag = (props) => {\n    const template = <div\n        style={{\n            background: props.bck,\n            fontSize: props.size,\n            color: props.color,\n            padding: '5px 10px',\n            display: 'inline-block',\n            fontFamily: 'Righteous',\n            ...props.add\n        }}\n    >\n        {props.children}\n    </div>\n\n    if(props.link){\n        return (\n            <Link to={props.linkto}>\n                {template}\n            </Link>\n        )\n    } else {\n        return template\n    }\n}\n\nexport const firebaseLooper = (snapshot) => {\n    let data = [];\n    snapshot.forEach((childSnapshot)=>{\n        data.push({\n            ...childSnapshot.val(),\n            id: childSnapshot.key\n        })\n    });\n    return data\n}\n\nexport const reverseArray = (actualArray) => {\n    let reversedArray = [];\n\n    for(let i= actualArray.length-1;i>=0;i--){\n        reversedArray.push(actualArray[i])\n    }\n    return reversedArray;\n}\n\n\nexport const validate = (element) => {\n    let error = [true,''];\n\n    if(element.validation.email){\n        const valid = /\\S+@\\S+\\.\\S+/.test(element.value);\n        const message = `${!valid ? 'Must be a valid email':''}`;\n        error = !valid ? [valid,message]: error;\n    }\n\n    if(element.validation.required){\n        const valid = element.value.trim() !== '';\n        const message = `${!valid ? 'This field is required':''}`;\n        error = !valid ? [valid,message]: error;\n    }\n\n    return error;\n}\n","import React from 'react';\r\nimport {PieChart, Pie, Sector, Cell} from 'recharts';\r\nimport RefContainer from './../../refsystem/RefContainer';\r\nimport useSelectorRef from './../../refsystem/useSelectorRef';\r\nimport useGlobalRef from '../../refsystem/useGlobalRef';\r\n\r\n/*const data = [\r\n  { name: 'Group A', value: 400 },\r\n  { name: 'Group B', value: 300 },\r\n  { name: 'Group C', value: 300 },\r\n  { name: 'Group D', value: 200 },\r\n];*/\r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'];\r\n\r\nconst RADIAN = Math.PI / 180;\r\n\r\nexport default function ChartSummary(props) {\r\n  const maxWidth = 300;\r\n  const width = Math.min(window.innerWidth, maxWidth);\r\n  const height = width;\r\n\r\n  const refs = new RefContainer(props);\r\n  const records = refs.records();\r\n  const categories = refs.categories();\r\n\r\n  const {sum_bycategory, data} = props;\r\n\r\n\r\n  const renderCustomizedLabel = ({\r\n    cx, cy, midAngle, innerRadius, outerRadius, percent, index,\r\n  }) => {\r\n    const radius = outerRadius + 5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  \r\n    return (\r\n      <text x={x} y={y} fill=\"black\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n        {`${(percent * 100).toFixed(0)}%`}\r\n      </text>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <center>\r\n      <PieChart width={width} height={height}>\r\n        <Pie\r\n          data={data}\r\n          cx={width/2}\r\n          cy={height/2}\r\n          labelLine={false}\r\n          label={renderCustomizedLabel}\r\n          outerRadius={width/3}\r\n          innerRadius={width/4}\r\n          fill=\"#8884d8\"\r\n          dataKey=\"value\"\r\n          paddingAngle={2}\r\n        >\r\n          {\r\n            data.map((entry, index) => <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />)\r\n          }\r\n        </Pie>\r\n      </PieChart>\r\n    </center>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport RefContainer from './../../refsystem/RefContainer';\r\nimport VBox from './../VBox';\r\nimport LCRBox from '../LCRBox';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Icon from '../Icon';\r\nimport {find} from \"lodash\";\r\nimport UICard from '../UICard';\r\n\r\nfunction DetailChild(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  const category = find(refs.categories(),{text: props.category_text});\r\n\r\n  return (<>\r\n    <ButtonBase style={{justifyContent:\"flex-start\",textAlign:\"left\", width:\"100%\"}}>\r\n      <LCRBox\r\n        left={\r\n          <div style={{marginRight: 5}}>\r\n            <Icon icon={category.icon} type={category.icon_type} color=\"white\" bgColor={category.icon_background} size={24} />\r\n          </div>\r\n        }\r\n        center={\r\n          <div>{props.category_text}</div>\r\n        }\r\n        right={\r\n          <div style={{whiteSpace:\"nowrap\"}}>{props.value} บาท</div>\r\n        }\r\n      ></LCRBox>\r\n    </ButtonBase>\r\n  </>)\r\n}\r\n\r\nexport default function ChartDetail(props) {\r\n  const refs = new RefContainer(props);\r\n\r\n  return (\r\n    <VBox>\r\n      <UICard>\r\n        {Object.keys(props.sum_bycategory).map(category_text=>\r\n          <DetailChild {...refs} category_text={category_text} value={props.sum_bycategory[category_text].sum}></DetailChild>\r\n        )}\r\n      </UICard>\r\n    </VBox>\r\n  );\r\n}","import React from 'react'\r\nimport RefContainer from './../refsystem/RefContainer';\r\nimport useGlobalRef from '../refsystem/useGlobalRef';\r\nimport ChartSummary from './../component/Summary/ChartSummary';\r\nimport VBox from './../component/VBox';\r\nimport ChartDetail from './../component/Summary/ChartDetail';\r\nimport BackButton from './../component/BackButton';\r\n\r\n\r\nexport default function Summary() {\r\n  const refs = new RefContainer();\r\n  refs.records = useGlobalRef(\"records\");\r\n  const records = refs.records();\r\n  refs.categories = useGlobalRef(\"categories\");\r\n  const categories = refs.categories();\r\n  \r\n  var totalsum = 0;\r\n  var sum_bycategory = {}\r\n  for(var record of records) {\r\n    if (!sum_bycategory[record.category.text]) sum_bycategory[record.category.text] = {sum: 0};\r\n    sum_bycategory[record.category.text].sum += parseFloat(record.value);\r\n    totalsum += record.value;\r\n  }\r\n\r\n  for(var category_text in sum_bycategory) {\r\n    sum_bycategory[category_text].percent = sum_bycategory[category_text].sum / totalsum * 100;\r\n  }\r\n\r\n  var data = []\r\n  for(var category_text in sum_bycategory) {\r\n    data.push({name: category_text, value: sum_bycategory[category_text].sum})\r\n  }\r\n\r\n  const passmore = {sum_bycategory, data};\r\n\r\n  return (\r\n    <VBox>\r\n      <BackButton></BackButton>\r\n      <ChartSummary {...refs} {...passmore}></ChartSummary>\r\n      <ChartDetail {...refs} {...passmore}></ChartDetail>\r\n    </VBox>\r\n  )\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport MainLayout from \"./layout/MainLayout\";\r\n\r\nimport \"./index.css\";\r\nimport Main from \"./screens/Main\";\r\nimport Profile from './screens/Profile';\r\n\r\n//import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from 'react-redux'\r\nimport reducer from './reducer'\r\nimport Route from './router/Route';\r\nimport Login_page from './screens/Login_page';\r\n\r\nimport store from './store'\r\nimport Summary from './screens/Summary';\r\n\r\nrequire(\"./initializeFa\")\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"App\">\r\n        <MainLayout>\r\n          <Route exact path={[\"summary\"]} component={Summary} />\r\n          <Route exact path={[\"profile\"]} component={Profile} />\r\n          <Route exact path={[\"login\"]} component={Login_page} />\r\n          <Route exact path={[]} component={Main} />\r\n        </MainLayout>\r\n      </div>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nfunction startApp() {\r\n  const rootElement = document.getElementById(\"root\");\r\n  ReactDOM.render(<App />, rootElement);\r\n}\r\n\r\nif (window.cordova) {\r\n  document.addEventListener('deviceready', startApp, false);\r\n} else {\r\n  startApp();\r\n}\r\n"],"sourceRoot":""}